2024-07-23 00:29:30.100 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-23 00:29:31.596 +07:00 [DBG] Hosting starting
2024-07-23 00:29:31.661 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-23 00:29:31.915 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-07-23 00:29:32.048 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-07-23 00:29:32.057 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-07-23 00:29:32.058 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-07-23 00:29:32.058 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-07-23 00:29:32.064 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-07-23 00:29:32.072 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-07-23 00:29:32.073 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-07-23 00:29:32.073 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-07-23 00:29:32.080 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-07-23 00:29:32.083 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 00:29:32.085 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-23 00:29:32.087 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 00:29:32.090 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-23 00:29:32.092 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-23 00:29:32.094 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-07-23 00:29:32.095 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-07-23 00:29:32.096 +07:00 [DBG] Starting bus instances: IBus
2024-07-23 00:29:32.101 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-07-23 00:29:32.176 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-07-23 00:29:32.411 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 64389)
2024-07-23 00:29:32.432 +07:00 [INF] Now listening on: https://localhost:7284
2024-07-23 00:29:32.432 +07:00 [INF] Now listening on: http://localhost:5090
2024-07-23 00:29:32.432 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-07-23 00:29:32.432 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-23 00:29:32.433 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-23 00:29:32.433 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-23 00:29:32.433 +07:00 [INF] Hosting environment: Development
2024-07-23 00:29:32.434 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-07-23 00:29:32.434 +07:00 [DBG] Hosting started
2024-07-23 00:29:32.454 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_9txyyyysrsenhsa1bdqkwh63yr?temporary=true"
2024-07-23 00:29:32.478 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-07-23 00:29:32.499 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-07-23 00:29:32.505 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-07-23 00:29:32.514 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-07-23 00:29:32.547 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-07-23 00:29:32.602 +07:00 [DBG] Connection id "0HN5AEFCN93IQ" received FIN.
2024-07-23 00:29:32.602 +07:00 [DBG] Connection id "0HN5AEFCN93IP" received FIN.
2024-07-23 00:29:32.603 +07:00 [DBG] Connection id "0HN5AEFCN93IP" accepted.
2024-07-23 00:29:32.603 +07:00 [DBG] Connection id "0HN5AEFCN93IQ" accepted.
2024-07-23 00:29:32.605 +07:00 [DBG] Connection id "0HN5AEFCN93IP" started.
2024-07-23 00:29:32.605 +07:00 [DBG] Connection id "0HN5AEFCN93IQ" started.
2024-07-23 00:29:32.626 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-BqrXjthOYwC705oTHZZwMw
2024-07-23 00:29:32.628 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-07-23 00:29:32.632 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-07-23 00:29:32.628 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 00:29:32.628 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 00:29:32.650 +07:00 [DBG] Connection id "0HN5AEFCN93IP" stopped.
2024-07-23 00:29:32.650 +07:00 [DBG] Connection id "0HN5AEFCN93IQ" stopped.
2024-07-23 00:29:32.652 +07:00 [DBG] Connection id "0HN5AEFCN93IQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 00:29:32.652 +07:00 [DBG] Connection id "0HN5AEFCN93IP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 00:29:34.463 +07:00 [DBG] Connection id "0HN5AEFCN93IR" accepted.
2024-07-23 00:29:34.464 +07:00 [DBG] Connection id "0HN5AEFCN93IR" started.
2024-07-23 00:29:34.509 +07:00 [DBG] Connection 0HN5AEFCN93IR established using the following protocol: "Tls13"
2024-07-23 00:29:34.751 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/swagger/index.html - null null
2024-07-23 00:29:34.893 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-23 00:29:34.938 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-23 00:29:34.940 +07:00 [DBG] Request did not match any endpoints
2024-07-23 00:29:35.053 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-23 00:29:35.055 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-23 00:29:35.077 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-23 00:29:35.078 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-23 00:29:35.086 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/swagger/index.html - 200 null text/html;charset=utf-8 339.9256ms
2024-07-23 00:29:35.651 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/_framework/aspnetcore-browser-refresh.js - null null
2024-07-23 00:29:35.698 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/_vs/browserLink - null null
2024-07-23 00:29:35.704 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 53.246ms
2024-07-23 00:29:35.899 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/_vs/browserLink - 200 null text/javascript; charset=UTF-8 201.4151ms
2024-07-23 00:29:37.157 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/swagger/v1/swagger.json - null null
2024-07-23 00:29:37.160 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-23 00:29:37.160 +07:00 [DBG] Request did not match any endpoints
2024-07-23 00:29:37.353 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 196.2839ms
2024-07-23 00:32:26.685 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-23 00:32:27.982 +07:00 [DBG] Hosting starting
2024-07-23 00:32:28.032 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-23 00:32:28.301 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-07-23 00:32:28.490 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-07-23 00:32:28.502 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-07-23 00:32:28.504 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-07-23 00:32:28.504 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-07-23 00:32:28.512 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-07-23 00:32:28.520 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-07-23 00:32:28.521 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-07-23 00:32:28.521 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-07-23 00:32:28.531 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-07-23 00:32:28.536 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 00:32:28.538 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-23 00:32:28.541 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 00:32:28.547 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-23 00:32:28.550 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-23 00:32:28.553 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-07-23 00:32:28.554 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-07-23 00:32:28.556 +07:00 [DBG] Starting bus instances: IBus
2024-07-23 00:32:28.560 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-07-23 00:32:28.617 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-07-23 00:32:28.822 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 64575)
2024-07-23 00:32:28.837 +07:00 [INF] Now listening on: https://localhost:7284
2024-07-23 00:32:28.838 +07:00 [INF] Now listening on: http://localhost:5090
2024-07-23 00:32:28.838 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-07-23 00:32:28.838 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-23 00:32:28.838 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-23 00:32:28.840 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-23 00:32:28.841 +07:00 [INF] Hosting environment: Development
2024-07-23 00:32:28.841 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-07-23 00:32:28.841 +07:00 [DBG] Hosting started
2024-07-23 00:32:28.859 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_81boyyysrsen7muybdqkw7nnbr?temporary=true"
2024-07-23 00:32:28.885 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-07-23 00:32:28.902 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-07-23 00:32:28.907 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-07-23 00:32:28.914 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-07-23 00:32:28.948 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-07-23 00:32:28.990 +07:00 [DBG] Connection id "0HN5AEH19E93R" received FIN.
2024-07-23 00:32:28.996 +07:00 [DBG] Connection id "0HN5AEH19E93R" accepted.
2024-07-23 00:32:28.998 +07:00 [DBG] Connection id "0HN5AEH19E93R" started.
2024-07-23 00:32:29.015 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 00:32:29.040 +07:00 [DBG] Connection id "0HN5AEH19E93R" stopped.
2024-07-23 00:32:29.040 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-khljznrN4EU5XM4vjF5z9Q
2024-07-23 00:32:29.041 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-07-23 00:32:29.042 +07:00 [DBG] Connection id "0HN5AEH19E93R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 00:32:29.044 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-07-23 00:32:30.282 +07:00 [DBG] Connection id "0HN5AEH19E93S" accepted.
2024-07-23 00:32:30.284 +07:00 [DBG] Connection id "0HN5AEH19E93S" started.
2024-07-23 00:32:30.353 +07:00 [DBG] Connection 0HN5AEH19E93S established using the following protocol: "Tls13"
2024-07-23 00:32:31.294 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/swagger/index.html - null null
2024-07-23 00:32:31.500 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-23 00:32:31.554 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-23 00:32:31.555 +07:00 [DBG] Request did not match any endpoints
2024-07-23 00:32:31.707 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-23 00:32:31.709 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-23 00:32:31.728 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-23 00:32:31.729 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-23 00:32:31.733 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/swagger/index.html - 200 null text/html;charset=utf-8 443.5142ms
2024-07-23 00:32:32.233 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/_framework/aspnetcore-browser-refresh.js - null null
2024-07-23 00:32:32.244 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 10.8176ms
2024-07-23 00:32:32.375 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/_vs/browserLink - null null
2024-07-23 00:32:32.445 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/_vs/browserLink - 200 null text/javascript; charset=UTF-8 70.2057ms
2024-07-23 00:32:33.130 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/swagger/v1/swagger.json - null null
2024-07-23 00:32:33.144 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-23 00:32:33.144 +07:00 [DBG] Request did not match any endpoints
2024-07-23 00:32:33.371 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 240.4899ms
2024-07-23 00:50:20.758 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-23 00:50:21.299 +07:00 [DBG] Hosting starting
2024-07-23 00:50:21.340 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-23 00:50:21.547 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-07-23 00:50:21.652 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-07-23 00:50:21.660 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-07-23 00:50:21.661 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-07-23 00:50:21.661 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-07-23 00:50:21.666 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-07-23 00:50:21.669 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-07-23 00:50:21.670 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-07-23 00:50:21.670 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-07-23 00:50:21.675 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-07-23 00:50:21.679 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 00:50:21.680 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-23 00:50:21.682 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 00:50:21.684 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-23 00:50:21.685 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-23 00:50:21.687 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-07-23 00:50:21.687 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-07-23 00:50:21.689 +07:00 [DBG] Starting bus instances: IBus
2024-07-23 00:50:21.692 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-07-23 00:50:21.738 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-07-23 00:50:21.925 +07:00 [INF] Now listening on: https://localhost:7284
2024-07-23 00:50:21.925 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 49899)
2024-07-23 00:50:21.926 +07:00 [INF] Now listening on: http://localhost:5090
2024-07-23 00:50:21.926 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-07-23 00:50:21.926 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-23 00:50:21.926 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-23 00:50:21.927 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-23 00:50:21.927 +07:00 [INF] Hosting environment: Development
2024-07-23 00:50:21.927 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-07-23 00:50:21.927 +07:00 [DBG] Hosting started
2024-07-23 00:50:21.966 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_e1byyyysrsen7fjdbdqkw7sbgh?temporary=true"
2024-07-23 00:50:21.983 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-07-23 00:50:21.996 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-07-23 00:50:22.003 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-07-23 00:50:22.010 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-07-23 00:50:22.031 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-07-23 00:50:22.074 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-2hvFeFEdHaccRMBUE723nA
2024-07-23 00:50:22.075 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-07-23 00:50:22.079 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-07-23 00:50:22.307 +07:00 [DBG] Connection id "0HN5AER15BURC" accepted.
2024-07-23 00:50:22.310 +07:00 [DBG] Connection id "0HN5AER15BURD" accepted.
2024-07-23 00:50:22.310 +07:00 [DBG] Connection id "0HN5AER15BURC" started.
2024-07-23 00:50:22.310 +07:00 [DBG] Connection id "0HN5AER15BURD" started.
2024-07-23 00:50:23.078 +07:00 [DBG] Connection id "0HN5AER15BURE" accepted.
2024-07-23 00:50:23.078 +07:00 [DBG] Connection id "0HN5AER15BURE" started.
2024-07-23 00:50:23.118 +07:00 [DBG] Connection 0HN5AER15BURE established using the following protocol: "Tls13"
2024-07-23 00:50:24.071 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/swagger/index.html - null null
2024-07-23 00:50:24.205 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-23 00:50:24.234 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-23 00:50:24.235 +07:00 [DBG] Request did not match any endpoints
2024-07-23 00:50:24.364 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-23 00:50:24.367 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-23 00:50:24.409 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-23 00:50:24.411 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-23 00:50:24.416 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/swagger/index.html - 200 null text/html;charset=utf-8 353.7345ms
2024-07-23 00:50:24.524 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/_framework/aspnetcore-browser-refresh.js - null null
2024-07-23 00:50:24.534 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 10.5876ms
2024-07-23 00:50:24.539 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/_vs/browserLink - null null
2024-07-23 00:50:24.594 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.3241ms
2024-07-23 00:50:24.773 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/swagger/v1/swagger.json - null null
2024-07-23 00:50:24.775 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-23 00:50:24.775 +07:00 [DBG] Request did not match any endpoints
2024-07-23 00:50:24.963 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 190.6005ms
2024-07-23 00:50:32.328 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2024-07-23 00:50:32.328 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2024-07-23 00:50:32.331 +07:00 [DBG] Connection id "0HN5AER15BURC" stopped.
2024-07-23 00:50:32.331 +07:00 [DBG] Connection id "0HN5AER15BURD" stopped.
2024-07-23 00:50:32.331 +07:00 [DBG] Connection id "0HN5AER15BURC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 00:50:32.331 +07:00 [DBG] Connection id "0HN5AER15BURD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 00:59:55.941 +07:00 [DBG] Connection id "0HN5AER15BURE" received FIN.
2024-07-23 00:59:55.954 +07:00 [DBG] The connection queue processing loop for 0HN5AER15BURE completed.
2024-07-23 00:59:55.957 +07:00 [DBG] Connection id "0HN5AER15BURE" is closed. The last processed stream ID was 7.
2024-07-23 00:59:55.957 +07:00 [DBG] Connection id "0HN5AER15BURE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 00:59:55.966 +07:00 [DBG] Connection id "0HN5AER15BURE" stopped.
2024-07-23 01:02:11.884 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-23 01:02:12.379 +07:00 [DBG] Hosting starting
2024-07-23 01:02:12.431 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-23 01:02:12.748 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-07-23 01:02:12.894 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-07-23 01:02:12.903 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-07-23 01:02:12.903 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-07-23 01:02:12.904 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-07-23 01:02:12.907 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-07-23 01:02:12.911 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-07-23 01:02:12.911 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-07-23 01:02:12.911 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-07-23 01:02:12.917 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-07-23 01:02:12.919 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 01:02:12.922 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-23 01:02:12.923 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 01:02:12.926 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-23 01:02:12.927 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-23 01:02:12.929 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-07-23 01:02:12.929 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-07-23 01:02:12.931 +07:00 [DBG] Starting bus instances: IBus
2024-07-23 01:02:12.935 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-07-23 01:02:12.995 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-07-23 01:02:13.172 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 54949)
2024-07-23 01:02:13.192 +07:00 [INF] Now listening on: https://localhost:7284
2024-07-23 01:02:13.193 +07:00 [INF] Now listening on: http://localhost:5090
2024-07-23 01:02:13.193 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-07-23 01:02:13.193 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-23 01:02:13.194 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-23 01:02:13.194 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-23 01:02:13.195 +07:00 [INF] Hosting environment: Development
2024-07-23 01:02:13.195 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-07-23 01:02:13.195 +07:00 [DBG] Hosting started
2024-07-23 01:02:13.212 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_wnmoyyysrsenh1gwbdqkw6djgy?temporary=true"
2024-07-23 01:02:13.232 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-07-23 01:02:13.256 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-07-23 01:02:13.262 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-07-23 01:02:13.267 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-07-23 01:02:13.288 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-07-23 01:02:13.322 +07:00 [DBG] Connection id "0HN5AF1L258TQ" received FIN.
2024-07-23 01:02:13.322 +07:00 [DBG] Connection id "0HN5AF1L258TP" received FIN.
2024-07-23 01:02:13.330 +07:00 [DBG] Connection id "0HN5AF1L258TP" accepted.
2024-07-23 01:02:13.330 +07:00 [DBG] Connection id "0HN5AF1L258TQ" accepted.
2024-07-23 01:02:13.332 +07:00 [DBG] Connection id "0HN5AF1L258TQ" started.
2024-07-23 01:02:13.332 +07:00 [DBG] Connection id "0HN5AF1L258TP" started.
2024-07-23 01:02:13.402 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-QGM8qjuw318ktz05ajLGUA
2024-07-23 01:02:13.405 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-07-23 01:02:13.355 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 01:02:13.355 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 01:02:13.412 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-07-23 01:02:13.422 +07:00 [DBG] Connection id "0HN5AF1L258TQ" stopped.
2024-07-23 01:02:13.422 +07:00 [DBG] Connection id "0HN5AF1L258TP" stopped.
2024-07-23 01:02:13.426 +07:00 [DBG] Connection id "0HN5AF1L258TP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 01:02:13.426 +07:00 [DBG] Connection id "0HN5AF1L258TQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 01:02:14.108 +07:00 [DBG] Connection id "0HN5AF1L258TR" accepted.
2024-07-23 01:02:14.110 +07:00 [DBG] Connection id "0HN5AF1L258TR" started.
2024-07-23 01:02:14.179 +07:00 [DBG] Connection 0HN5AF1L258TR established using the following protocol: "Tls13"
2024-07-23 01:02:14.313 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/swagger/index.html - null null
2024-07-23 01:02:14.512 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-23 01:02:14.559 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-23 01:02:14.561 +07:00 [DBG] Request did not match any endpoints
2024-07-23 01:02:14.684 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-23 01:02:14.687 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-23 01:02:14.760 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-23 01:02:14.765 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-23 01:02:14.771 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/swagger/index.html - 200 null text/html;charset=utf-8 471.2606ms
2024-07-23 01:02:15.698 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/_vs/browserLink - null null
2024-07-23 01:02:15.718 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/_framework/aspnetcore-browser-refresh.js - null null
2024-07-23 01:02:15.726 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 6.6961ms
2024-07-23 01:02:15.752 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.2195ms
2024-07-23 01:02:16.508 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/swagger/v1/swagger.json - null null
2024-07-23 01:02:16.512 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-23 01:02:16.513 +07:00 [DBG] Request did not match any endpoints
2024-07-23 01:02:16.772 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 264.364ms
2024-07-23 01:03:30.165 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-23 01:03:30.629 +07:00 [DBG] Hosting starting
2024-07-23 01:03:30.681 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-23 01:03:30.948 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-07-23 01:03:31.080 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-07-23 01:03:31.090 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-07-23 01:03:31.091 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-07-23 01:03:31.091 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-07-23 01:03:31.098 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-07-23 01:03:31.102 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-07-23 01:03:31.102 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-07-23 01:03:31.103 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-07-23 01:03:31.109 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-07-23 01:03:31.112 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 01:03:31.115 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-23 01:03:31.117 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 01:03:31.120 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-23 01:03:31.121 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-23 01:03:31.122 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-07-23 01:03:31.123 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-07-23 01:03:31.125 +07:00 [DBG] Starting bus instances: IBus
2024-07-23 01:03:31.129 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-07-23 01:03:31.175 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-07-23 01:03:31.357 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 55041)
2024-07-23 01:03:31.392 +07:00 [INF] Now listening on: https://localhost:7284
2024-07-23 01:03:31.393 +07:00 [INF] Now listening on: http://localhost:5090
2024-07-23 01:03:31.393 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-07-23 01:03:31.393 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-23 01:03:31.394 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-23 01:03:31.395 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-23 01:03:31.395 +07:00 [INF] Hosting environment: Development
2024-07-23 01:03:31.395 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-07-23 01:03:31.395 +07:00 [DBG] Hosting started
2024-07-23 01:03:31.402 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_do7yyyysrsenhxgibdqkw6ran6?temporary=true"
2024-07-23 01:03:31.860 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-07-23 01:03:31.874 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-07-23 01:03:31.888 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-07-23 01:03:31.899 +07:00 [DBG] Connection id "0HN5AF2CFH0BO" received FIN.
2024-07-23 01:03:31.900 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-07-23 01:03:31.907 +07:00 [DBG] Connection id "0HN5AF2CFH0BO" accepted.
2024-07-23 01:03:31.908 +07:00 [DBG] Connection id "0HN5AF2CFH0BO" started.
2024-07-23 01:03:31.922 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-07-23 01:03:31.923 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 01:03:32.123 +07:00 [DBG] Connection id "0HN5AF2CFH0BO" stopped.
2024-07-23 01:03:32.126 +07:00 [DBG] Connection id "0HN5AF2CFH0BO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 01:03:32.146 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-2ha717_2yDLNqvmDP9aqGQ
2024-07-23 01:03:32.147 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-07-23 01:03:32.152 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-07-23 01:03:32.634 +07:00 [DBG] Connection id "0HN5AF2CFH0BP" accepted.
2024-07-23 01:03:32.634 +07:00 [DBG] Connection id "0HN5AF2CFH0BP" started.
2024-07-23 01:03:32.678 +07:00 [DBG] Connection 0HN5AF2CFH0BP established using the following protocol: "Tls13"
2024-07-23 01:03:32.766 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/swagger/index.html - null null
2024-07-23 01:03:32.905 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-23 01:03:32.951 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-23 01:03:32.952 +07:00 [DBG] Request did not match any endpoints
2024-07-23 01:03:33.073 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-23 01:03:33.075 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-23 01:03:33.111 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-23 01:03:33.112 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-23 01:03:33.116 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/swagger/index.html - 200 null text/html;charset=utf-8 356.7488ms
2024-07-23 01:03:33.461 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/_framework/aspnetcore-browser-refresh.js - null null
2024-07-23 01:03:33.487 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/_vs/browserLink - null null
2024-07-23 01:03:33.539 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 77.61ms
2024-07-23 01:03:33.863 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/_vs/browserLink - 200 null text/javascript; charset=UTF-8 375.1859ms
2024-07-23 01:03:34.576 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/swagger/v1/swagger.json - null null
2024-07-23 01:03:34.586 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-23 01:03:34.591 +07:00 [DBG] Request did not match any endpoints
2024-07-23 01:03:34.794 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 219.1174ms
2024-07-23 21:50:53.829 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-23 21:50:55.006 +07:00 [DBG] Hosting starting
2024-07-23 21:50:55.364 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-23 21:50:55.621 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-07-23 21:50:55.828 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-07-23 21:50:55.872 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-07-23 21:50:55.900 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-07-23 21:50:55.933 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-07-23 21:50:55.987 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-07-23 21:50:55.996 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-07-23 21:50:55.997 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-07-23 21:50:55.997 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-07-23 21:50:56.004 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-07-23 21:50:56.008 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 21:50:56.011 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-23 21:50:56.014 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 21:50:56.018 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-23 21:50:56.020 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-23 21:50:56.021 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-07-23 21:50:56.023 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-07-23 21:50:56.024 +07:00 [DBG] Starting bus instances: IBus
2024-07-23 21:50:56.029 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-07-23 21:50:56.065 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-07-23 21:50:56.150 +07:00 [INF] Now listening on: https://localhost:7284
2024-07-23 21:50:56.150 +07:00 [INF] Now listening on: http://localhost:5090
2024-07-23 21:50:56.151 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-07-23 21:50:56.151 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-23 21:50:56.151 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-23 21:50:56.151 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-23 21:50:56.152 +07:00 [INF] Hosting environment: Development
2024-07-23 21:50:56.152 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-07-23 21:50:56.152 +07:00 [DBG] Hosting started
2024-07-23 21:50:56.164 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 54095)
2024-07-23 21:50:56.198 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_ao1yyyysrsenhor9bdqksjs5nf?temporary=true"
2024-07-23 21:50:56.218 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-07-23 21:50:56.245 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-07-23 21:50:56.250 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-07-23 21:50:56.268 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-07-23 21:50:56.292 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-07-23 21:50:56.387 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-2DviHh2pV2k6HpMLQ05pVA
2024-07-23 21:50:56.388 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-07-23 21:50:56.390 +07:00 [DBG] Connection id "0HN5B4RDS75BK" accepted.
2024-07-23 21:50:56.391 +07:00 [DBG] Connection id "0HN5B4RDS75BK" started.
2024-07-23 21:50:56.391 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-07-23 21:50:56.400 +07:00 [DBG] Connection id "0HN5B4RDS75BK" received FIN.
2024-07-23 21:50:56.407 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 21:50:56.472 +07:00 [DBG] Connection id "0HN5B4RDS75BK" stopped.
2024-07-23 21:50:56.474 +07:00 [DBG] Connection id "0HN5B4RDS75BK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 21:50:56.604 +07:00 [DBG] Connection id "0HN5B4RDS75BL" accepted.
2024-07-23 21:50:56.604 +07:00 [DBG] Connection id "0HN5B4RDS75BL" started.
2024-07-23 21:50:56.640 +07:00 [DBG] Connection 0HN5B4RDS75BL established using the following protocol: "Tls13"
2024-07-23 21:50:56.719 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/swagger/index.html - null null
2024-07-23 21:50:56.783 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-23 21:50:56.814 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-23 21:50:56.814 +07:00 [DBG] Request did not match any endpoints
2024-07-23 21:50:56.892 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-23 21:50:56.893 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-23 21:50:56.907 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-23 21:50:56.907 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-23 21:50:56.910 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/swagger/index.html - 200 null text/html;charset=utf-8 192.9284ms
2024-07-23 21:50:56.930 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/_framework/aspnetcore-browser-refresh.js - null null
2024-07-23 21:50:56.935 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 4.6266ms
2024-07-23 21:50:56.976 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/_vs/browserLink - null null
2024-07-23 21:50:57.003 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.4747ms
2024-07-23 21:50:57.204 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/swagger/v1/swagger.json - null null
2024-07-23 21:50:57.206 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-23 21:50:57.206 +07:00 [DBG] Request did not match any endpoints
2024-07-23 21:50:57.307 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 102.9831ms
2024-07-23 21:53:09.460 +07:00 [DBG] Connection id "0HN5B4RDS75BL" is closing.
2024-07-23 21:53:09.462 +07:00 [DBG] Connection id "0HN5B4RDS75BL" is closed. The last processed stream ID was 7.
2024-07-23 21:53:09.463 +07:00 [DBG] Connection id "0HN5B4RDS75BL" received FIN.
2024-07-23 21:53:09.463 +07:00 [DBG] Connection id "0HN5B4RDS75BL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 21:53:09.464 +07:00 [DBG] The connection queue processing loop for 0HN5B4RDS75BL completed.
2024-07-23 21:53:09.464 +07:00 [DBG] Connection id "0HN5B4RDS75BL" stopped.
2024-07-23 21:56:16.400 +07:00 [DBG] Connection id "0HN5B4RDS75BM" accepted.
2024-07-23 21:56:16.400 +07:00 [DBG] Connection id "0HN5B4RDS75BM" started.
2024-07-23 21:56:16.403 +07:00 [DBG] Connection 0HN5B4RDS75BM established using the following protocol: "Tls13"
2024-07-23 21:56:16.405 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7284/api/Users/login - application/json 48
2024-07-23 21:56:16.409 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/login'
2024-07-23 21:56:16.417 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.Login (capygram.Auth)' with route pattern 'api/Users/login' is valid for the request path '/api/Users/login'
2024-07-23 21:56:16.417 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.Login (capygram.Auth)'
2024-07-23 21:56:16.419 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 21:56:16.420 +07:00 [INF] Start request......!
2024-07-23 21:56:16.486 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 21:56:16.488 +07:00 [INF] Executing endpoint 'capygram.Auth.Controllers.UsersController.Login (capygram.Auth)'
2024-07-23 21:56:16.508 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(capygram.Common.DTOs.User.UserAuthenticationDto) on controller capygram.Auth.Controllers.UsersController (capygram.Auth).
2024-07-23 21:56:16.510 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 21:56:16.510 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 21:56:16.510 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 21:56:16.511 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 21:56:16.511 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 21:56:16.512 +07:00 [DBG] Executing controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-07-23 21:56:16.519 +07:00 [DBG] Executed controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-07-23 21:56:16.523 +07:00 [DBG] Attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserAuthenticationDto' ...
2024-07-23 21:56:16.525 +07:00 [DBG] Attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserAuthenticationDto' using the name '' in request data ...
2024-07-23 21:56:16.525 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 21:56:16.529 +07:00 [DBG] Connection id "0HN5B4RDS75BM", Request id "0HN5B4RDS75BM:00000001": started reading request body.
2024-07-23 21:56:16.530 +07:00 [DBG] Connection id "0HN5B4RDS75BM", Request id "0HN5B4RDS75BM:00000001": done reading request body.
2024-07-23 21:56:16.532 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'capygram.Common.DTOs.User.UserAuthenticationDto'
2024-07-23 21:56:16.533 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserAuthenticationDto'.
2024-07-23 21:56:16.533 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserAuthenticationDto'.
2024-07-23 21:56:16.533 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'capygram.Common.DTOs.User.UserAuthenticationDto' ...
2024-07-23 21:56:16.538 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'capygram.Common.DTOs.User.UserAuthenticationDto'.
2024-07-23 21:56:16.697 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 21:56:16.698 +07:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 21:56:16.698 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 21:56:16.698 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 21:56:16.699 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 21:56:16.699 +07:00 [INF] Executing OkObjectResult, writing value of type 'capygram.Common.Shared.Result`1[[capygram.Common.DTOs.User.UserAuthenticationResponse, capygram.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 21:56:16.707 +07:00 [INF] Executed action capygram.Auth.Controllers.UsersController.Login (capygram.Auth) in 194.1365ms
2024-07-23 21:56:16.708 +07:00 [INF] Executed endpoint 'capygram.Auth.Controllers.UsersController.Login (capygram.Auth)'
2024-07-23 21:56:16.709 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7284/api/Users/login - 200 null application/json; charset=utf-8 303.97ms
2024-07-23 21:58:28.595 +07:00 [DBG] Connection id "0HN5B4RDS75BM" is closing.
2024-07-23 21:58:28.595 +07:00 [DBG] Connection id "0HN5B4RDS75BM" is closed. The last processed stream ID was 1.
2024-07-23 21:58:28.596 +07:00 [DBG] Connection id "0HN5B4RDS75BM" received FIN.
2024-07-23 21:58:28.596 +07:00 [DBG] The connection queue processing loop for 0HN5B4RDS75BM completed.
2024-07-23 21:58:28.596 +07:00 [DBG] Connection id "0HN5B4RDS75BM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 21:58:28.610 +07:00 [DBG] Connection id "0HN5B4RDS75BM" stopped.
2024-07-23 22:06:40.657 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-23 22:06:40.984 +07:00 [DBG] Hosting starting
2024-07-23 22:06:41.002 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-23 22:06:41.183 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-07-23 22:06:41.283 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-07-23 22:06:41.287 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-07-23 22:06:41.288 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-07-23 22:06:41.288 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-07-23 22:06:41.292 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-07-23 22:06:41.296 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-07-23 22:06:41.296 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-07-23 22:06:41.296 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-07-23 22:06:41.302 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-07-23 22:06:41.305 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 22:06:41.306 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-23 22:06:41.308 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 22:06:41.310 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-23 22:06:41.311 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-23 22:06:41.313 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-07-23 22:06:41.313 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-07-23 22:06:41.315 +07:00 [DBG] Starting bus instances: IBus
2024-07-23 22:06:41.319 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-07-23 22:06:41.352 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-07-23 22:06:41.443 +07:00 [INF] Now listening on: https://localhost:7284
2024-07-23 22:06:41.444 +07:00 [INF] Now listening on: http://localhost:5090
2024-07-23 22:06:41.444 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-07-23 22:06:41.444 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-23 22:06:41.444 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-23 22:06:41.444 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-23 22:06:41.445 +07:00 [INF] Hosting environment: Development
2024-07-23 22:06:41.445 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-07-23 22:06:41.445 +07:00 [DBG] Hosting started
2024-07-23 22:06:41.464 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 54457)
2024-07-23 22:06:41.486 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_stooyyysrsen7n65bdqkskeq8b?temporary=true"
2024-07-23 22:06:41.499 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-07-23 22:06:41.513 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-07-23 22:06:41.517 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-07-23 22:06:41.521 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-07-23 22:06:41.545 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-07-23 22:06:41.594 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-1uNSiRyYfBwApPbnUpVrtQ
2024-07-23 22:06:41.595 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-07-23 22:06:41.598 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-07-23 22:06:42.311 +07:00 [DBG] Connection id "0HN5B547P77GK" received FIN.
2024-07-23 22:06:42.316 +07:00 [DBG] Connection id "0HN5B547P77GK" accepted.
2024-07-23 22:06:42.317 +07:00 [DBG] Connection id "0HN5B547P77GK" started.
2024-07-23 22:06:42.328 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 22:06:42.339 +07:00 [DBG] Connection id "0HN5B547P77GK" stopped.
2024-07-23 22:06:42.343 +07:00 [DBG] Connection id "0HN5B547P77GK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 22:06:42.598 +07:00 [DBG] Connection id "0HN5B547P77GL" accepted.
2024-07-23 22:06:42.598 +07:00 [DBG] Connection id "0HN5B547P77GL" started.
2024-07-23 22:06:42.626 +07:00 [DBG] Connection 0HN5B547P77GL established using the following protocol: "Tls13"
2024-07-23 22:06:42.655 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/swagger/index.html - null null
2024-07-23 22:06:42.699 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-23 22:06:42.720 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-23 22:06:42.720 +07:00 [DBG] Request did not match any endpoints
2024-07-23 22:06:42.795 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-23 22:06:42.796 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-23 22:06:42.808 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-23 22:06:42.809 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-23 22:06:42.811 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/swagger/index.html - 200 null text/html;charset=utf-8 156.4525ms
2024-07-23 22:06:42.908 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/_framework/aspnetcore-browser-refresh.js - null null
2024-07-23 22:06:42.914 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 5.6992ms
2024-07-23 22:06:42.921 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/_vs/browserLink - null null
2024-07-23 22:06:42.957 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.7647ms
2024-07-23 22:06:43.167 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/swagger/v1/swagger.json - null null
2024-07-23 22:06:43.169 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-23 22:06:43.170 +07:00 [DBG] Request did not match any endpoints
2024-07-23 22:06:43.323 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 155.8153ms
2024-07-23 23:07:41.202 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-23 23:07:41.506 +07:00 [DBG] Hosting starting
2024-07-23 23:07:41.517 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-23 23:07:41.668 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-07-23 23:07:41.751 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-07-23 23:07:41.755 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-07-23 23:07:41.755 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-07-23 23:07:41.755 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-07-23 23:07:41.758 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-07-23 23:07:41.760 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-07-23 23:07:41.760 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-07-23 23:07:41.760 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-07-23 23:07:41.764 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-07-23 23:07:41.766 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 23:07:41.767 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-23 23:07:41.769 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 23:07:41.771 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-23 23:07:41.772 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-23 23:07:41.773 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-07-23 23:07:41.773 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-07-23 23:07:41.774 +07:00 [DBG] Starting bus instances: IBus
2024-07-23 23:07:41.777 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-07-23 23:07:41.799 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-07-23 23:07:41.855 +07:00 [INF] Now listening on: https://localhost:7284
2024-07-23 23:07:41.855 +07:00 [INF] Now listening on: http://localhost:5090
2024-07-23 23:07:41.855 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-07-23 23:07:41.855 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-23 23:07:41.855 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-23 23:07:41.856 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-23 23:07:41.856 +07:00 [INF] Hosting environment: Development
2024-07-23 23:07:41.856 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-07-23 23:07:41.856 +07:00 [DBG] Hosting started
2024-07-23 23:07:41.909 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 55330)
2024-07-23 23:07:41.952 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_xbryyyysrsen7smgbdqksccwfw?temporary=true"
2024-07-23 23:07:41.974 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-07-23 23:07:41.988 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-07-23 23:07:41.991 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-07-23 23:07:41.996 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-07-23 23:07:42.020 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-07-23 23:07:42.110 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-WFwtzLjU6DrNl1BveSFIuQ
2024-07-23 23:07:42.111 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-07-23 23:07:42.113 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-07-23 23:07:44.793 +07:00 [DBG] Connection id "0HN5B66B9C5O0" received FIN.
2024-07-23 23:07:44.799 +07:00 [DBG] Connection id "0HN5B66B9C5O0" accepted.
2024-07-23 23:07:44.800 +07:00 [DBG] Connection id "0HN5B66B9C5O0" started.
2024-07-23 23:07:44.808 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 23:07:44.824 +07:00 [DBG] Connection id "0HN5B66B9C5O0" stopped.
2024-07-23 23:07:44.827 +07:00 [DBG] Connection id "0HN5B66B9C5O0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 23:07:45.313 +07:00 [DBG] Connection id "0HN5B66B9C5O1" accepted.
2024-07-23 23:07:45.313 +07:00 [DBG] Connection id "0HN5B66B9C5O1" started.
2024-07-23 23:07:45.366 +07:00 [DBG] Connection 0HN5B66B9C5O1 established using the following protocol: "Tls13"
2024-07-23 23:07:45.416 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/swagger/index.html - null null
2024-07-23 23:07:45.476 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-23 23:07:45.501 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-23 23:07:45.506 +07:00 [DBG] Request did not match any endpoints
2024-07-23 23:07:45.586 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-23 23:07:45.587 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-23 23:07:45.598 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-23 23:07:45.599 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-23 23:07:45.601 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/swagger/index.html - 200 null text/html;charset=utf-8 186.113ms
2024-07-23 23:07:45.946 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/_framework/aspnetcore-browser-refresh.js - null null
2024-07-23 23:07:45.947 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/_vs/browserLink - null null
2024-07-23 23:07:45.972 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 25.2974ms
2024-07-23 23:07:46.049 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/_vs/browserLink - 200 null text/javascript; charset=UTF-8 102.2042ms
2024-07-23 23:07:46.700 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/swagger/v1/swagger.json - null null
2024-07-23 23:07:46.703 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-23 23:07:46.703 +07:00 [DBG] Request did not match any endpoints
2024-07-23 23:07:46.804 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - capygram.Auth.Controllers.UsersController.GetUserByUserID (capygram.Auth). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-23 23:07:46.820 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 120.632ms
2024-07-23 23:09:08.843 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-23 23:09:09.116 +07:00 [DBG] Hosting starting
2024-07-23 23:09:09.128 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-23 23:09:09.284 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-07-23 23:09:09.368 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-07-23 23:09:09.372 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-07-23 23:09:09.372 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-07-23 23:09:09.373 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-07-23 23:09:09.375 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-07-23 23:09:09.377 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-07-23 23:09:09.378 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-07-23 23:09:09.378 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-07-23 23:09:09.383 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-07-23 23:09:09.386 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 23:09:09.387 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-23 23:09:09.388 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 23:09:09.391 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-23 23:09:09.392 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-23 23:09:09.393 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-07-23 23:09:09.393 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-07-23 23:09:09.394 +07:00 [DBG] Starting bus instances: IBus
2024-07-23 23:09:09.399 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-07-23 23:09:09.426 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-07-23 23:09:09.515 +07:00 [INF] Now listening on: https://localhost:7284
2024-07-23 23:09:09.515 +07:00 [INF] Now listening on: http://localhost:5090
2024-07-23 23:09:09.515 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-07-23 23:09:09.515 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-23 23:09:09.515 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-23 23:09:09.516 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-23 23:09:09.516 +07:00 [INF] Hosting environment: Development
2024-07-23 23:09:09.516 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-07-23 23:09:09.516 +07:00 [DBG] Hosting started
2024-07-23 23:09:09.535 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 55409)
2024-07-23 23:09:09.558 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_sbjyyyysrsenhrynbdqkscqe8p?temporary=true"
2024-07-23 23:09:09.573 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-07-23 23:09:09.598 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-07-23 23:09:09.601 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-07-23 23:09:09.606 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-07-23 23:09:09.630 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-07-23 23:09:09.673 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-Q8K4A9PLz3hJNAQetwX38Q
2024-07-23 23:09:09.674 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-07-23 23:09:09.677 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-07-23 23:09:11.276 +07:00 [DBG] Connection id "0HN5B67524L4B" received FIN.
2024-07-23 23:09:11.281 +07:00 [DBG] Connection id "0HN5B67524L4B" accepted.
2024-07-23 23:09:11.284 +07:00 [DBG] Connection id "0HN5B67524L4B" started.
2024-07-23 23:09:11.297 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 23:09:11.307 +07:00 [DBG] Connection id "0HN5B67524L4B" stopped.
2024-07-23 23:09:11.309 +07:00 [DBG] Connection id "0HN5B67524L4B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 23:09:11.773 +07:00 [DBG] Connection id "0HN5B67524L4C" accepted.
2024-07-23 23:09:11.774 +07:00 [DBG] Connection id "0HN5B67524L4C" started.
2024-07-23 23:09:11.808 +07:00 [DBG] Connection 0HN5B67524L4C established using the following protocol: "Tls13"
2024-07-23 23:09:11.848 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/swagger/index.html - null null
2024-07-23 23:09:11.917 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-23 23:09:11.941 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-23 23:09:11.942 +07:00 [DBG] Request did not match any endpoints
2024-07-23 23:09:12.027 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-23 23:09:12.029 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-23 23:09:12.048 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-23 23:09:12.049 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-23 23:09:12.051 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/swagger/index.html - 200 null text/html;charset=utf-8 204.0978ms
2024-07-23 23:09:12.502 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/_framework/aspnetcore-browser-refresh.js - null null
2024-07-23 23:09:12.507 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 4.9503ms
2024-07-23 23:09:12.509 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/_vs/browserLink - null null
2024-07-23 23:09:12.551 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.3554ms
2024-07-23 23:09:13.313 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/swagger/v1/swagger.json - null null
2024-07-23 23:09:13.315 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-23 23:09:13.315 +07:00 [DBG] Request did not match any endpoints
2024-07-23 23:09:13.485 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 171.6725ms
2024-07-23 23:10:12.572 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-23 23:10:12.840 +07:00 [DBG] Hosting starting
2024-07-23 23:10:12.851 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-23 23:10:13.039 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-07-23 23:10:13.136 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-07-23 23:10:13.140 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-07-23 23:10:13.141 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-07-23 23:10:13.141 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-07-23 23:10:13.145 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-07-23 23:10:13.148 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-07-23 23:10:13.148 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-07-23 23:10:13.148 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-07-23 23:10:13.152 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-07-23 23:10:13.155 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 23:10:13.156 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-23 23:10:13.157 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 23:10:13.159 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-23 23:10:13.160 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-23 23:10:13.161 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-07-23 23:10:13.162 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-07-23 23:10:13.163 +07:00 [DBG] Starting bus instances: IBus
2024-07-23 23:10:13.167 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-07-23 23:10:13.188 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-07-23 23:10:13.247 +07:00 [INF] Now listening on: https://localhost:7284
2024-07-23 23:10:13.248 +07:00 [INF] Now listening on: http://localhost:5090
2024-07-23 23:10:13.248 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-07-23 23:10:13.248 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-23 23:10:13.248 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-23 23:10:13.248 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-23 23:10:13.249 +07:00 [INF] Hosting environment: Development
2024-07-23 23:10:13.249 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-07-23 23:10:13.249 +07:00 [DBG] Hosting started
2024-07-23 23:10:13.272 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 55478)
2024-07-23 23:10:13.291 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_fb3oyyysrsen7bjebdqkscxq8c?temporary=true"
2024-07-23 23:10:13.304 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-07-23 23:10:13.321 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-07-23 23:10:13.324 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-07-23 23:10:13.328 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-07-23 23:10:13.352 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-07-23 23:10:13.380 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-l7FqQvAqSAOIgti6kUw_qw
2024-07-23 23:10:13.381 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-07-23 23:10:13.384 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-07-23 23:10:15.521 +07:00 [DBG] Connection id "0HN5B67O6QONJ" received FIN.
2024-07-23 23:10:15.526 +07:00 [DBG] Connection id "0HN5B67O6QONJ" accepted.
2024-07-23 23:10:15.527 +07:00 [DBG] Connection id "0HN5B67O6QONJ" started.
2024-07-23 23:10:15.543 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 23:10:15.553 +07:00 [DBG] Connection id "0HN5B67O6QONJ" stopped.
2024-07-23 23:10:15.555 +07:00 [DBG] Connection id "0HN5B67O6QONJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 23:10:16.045 +07:00 [DBG] Connection id "0HN5B67O6QONK" accepted.
2024-07-23 23:10:16.045 +07:00 [DBG] Connection id "0HN5B67O6QONK" started.
2024-07-23 23:10:16.083 +07:00 [DBG] Connection 0HN5B67O6QONK established using the following protocol: "Tls13"
2024-07-23 23:10:16.147 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/swagger/index.html - null null
2024-07-23 23:10:16.224 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-23 23:10:16.250 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-23 23:10:16.250 +07:00 [DBG] Request did not match any endpoints
2024-07-23 23:10:16.328 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-23 23:10:16.330 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-23 23:10:16.344 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-23 23:10:16.345 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-23 23:10:16.348 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/swagger/index.html - 200 null text/html;charset=utf-8 201.2233ms
2024-07-23 23:10:16.413 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/_framework/aspnetcore-browser-refresh.js - null null
2024-07-23 23:10:16.425 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 12.401ms
2024-07-23 23:10:16.492 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/_vs/browserLink - null null
2024-07-23 23:10:16.544 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/_vs/browserLink - 200 null text/javascript; charset=UTF-8 62.0467ms
2024-07-23 23:10:17.243 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/swagger/v1/swagger.json - null null
2024-07-23 23:10:17.246 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-23 23:10:17.246 +07:00 [DBG] Request did not match any endpoints
2024-07-23 23:10:17.641 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 398.2784ms
2024-07-23 23:11:00.845 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-23 23:11:01.117 +07:00 [DBG] Hosting starting
2024-07-23 23:11:01.129 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-23 23:11:01.293 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-07-23 23:11:01.373 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-07-23 23:11:01.377 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-07-23 23:11:01.377 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-07-23 23:11:01.377 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-07-23 23:11:01.380 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-07-23 23:11:01.382 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-07-23 23:11:01.382 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-07-23 23:11:01.382 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-07-23 23:11:01.386 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-07-23 23:11:01.388 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 23:11:01.389 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-23 23:11:01.390 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 23:11:01.391 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-23 23:11:01.392 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-23 23:11:01.393 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-07-23 23:11:01.394 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-07-23 23:11:01.395 +07:00 [DBG] Starting bus instances: IBus
2024-07-23 23:11:01.398 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-07-23 23:11:01.418 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-07-23 23:11:01.479 +07:00 [INF] Now listening on: https://localhost:7284
2024-07-23 23:11:01.479 +07:00 [INF] Now listening on: http://localhost:5090
2024-07-23 23:11:01.479 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-07-23 23:11:01.479 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-23 23:11:01.479 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-23 23:11:01.480 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-23 23:11:01.480 +07:00 [INF] Hosting environment: Development
2024-07-23 23:11:01.480 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-07-23 23:11:01.480 +07:00 [DBG] Hosting started
2024-07-23 23:11:01.500 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 55539)
2024-07-23 23:11:01.527 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_7b7yyyysrsen7u4kbdqkscomfo?temporary=true"
2024-07-23 23:11:01.546 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-07-23 23:11:01.567 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-07-23 23:11:01.570 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-07-23 23:11:01.576 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-07-23 23:11:01.597 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-07-23 23:11:01.639 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-d_GuEE9DZkrX6HaOH69ljw
2024-07-23 23:11:01.640 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-07-23 23:11:01.642 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-07-23 23:11:03.278 +07:00 [DBG] Connection id "0HN5B686E8UU0" received FIN.
2024-07-23 23:11:03.282 +07:00 [DBG] Connection id "0HN5B686E8UU0" accepted.
2024-07-23 23:11:03.289 +07:00 [DBG] Connection id "0HN5B686E8UU0" started.
2024-07-23 23:11:03.304 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 23:11:03.316 +07:00 [DBG] Connection id "0HN5B686E8UU0" stopped.
2024-07-23 23:11:03.318 +07:00 [DBG] Connection id "0HN5B686E8UU0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 23:11:03.864 +07:00 [DBG] Connection id "0HN5B686E8UU1" accepted.
2024-07-23 23:11:03.866 +07:00 [DBG] Connection id "0HN5B686E8UU1" started.
2024-07-23 23:11:03.899 +07:00 [DBG] Connection 0HN5B686E8UU1 established using the following protocol: "Tls13"
2024-07-23 23:11:03.949 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/swagger/index.html - null null
2024-07-23 23:11:04.017 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-23 23:11:04.042 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-23 23:11:04.043 +07:00 [DBG] Request did not match any endpoints
2024-07-23 23:11:04.121 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-23 23:11:04.123 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-23 23:11:04.139 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-23 23:11:04.140 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-23 23:11:04.142 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/swagger/index.html - 200 null text/html;charset=utf-8 195.1934ms
2024-07-23 23:11:04.179 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/_framework/aspnetcore-browser-refresh.js - null null
2024-07-23 23:11:04.195 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 15.3934ms
2024-07-23 23:11:04.253 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/_vs/browserLink - null null
2024-07-23 23:11:04.306 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.2998ms
2024-07-23 23:11:04.638 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/swagger/v1/swagger.json - null null
2024-07-23 23:11:04.657 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-23 23:11:04.658 +07:00 [DBG] Request did not match any endpoints
2024-07-23 23:11:04.942 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 303.1527ms
2024-07-23 23:11:21.758 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7284/api/Users/login - application/json 48
2024-07-23 23:11:21.765 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/login'
2024-07-23 23:11:21.770 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.Login (capygram.Auth)' with route pattern 'api/Users/login' is valid for the request path '/api/Users/login'
2024-07-23 23:11:21.771 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.Login (capygram.Auth)'
2024-07-23 23:11:21.774 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 23:11:21.776 +07:00 [INF] Start request......!
2024-07-23 23:11:21.795 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 23:11:21.796 +07:00 [INF] Executing endpoint 'capygram.Auth.Controllers.UsersController.Login (capygram.Auth)'
2024-07-23 23:11:21.813 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(capygram.Common.DTOs.User.UserAuthenticationDto) on controller capygram.Auth.Controllers.UsersController (capygram.Auth).
2024-07-23 23:11:21.814 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 23:11:21.815 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 23:11:21.815 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 23:11:21.816 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 23:11:21.816 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 23:11:21.817 +07:00 [DBG] Executing controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-07-23 23:11:21.823 +07:00 [DBG] Executed controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-07-23 23:11:21.826 +07:00 [DBG] Attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserAuthenticationDto' ...
2024-07-23 23:11:21.827 +07:00 [DBG] Attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserAuthenticationDto' using the name '' in request data ...
2024-07-23 23:11:21.828 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 23:11:21.831 +07:00 [DBG] Connection id "0HN5B686E8UU1", Request id "0HN5B686E8UU1:00000009": started reading request body.
2024-07-23 23:11:21.832 +07:00 [DBG] Connection id "0HN5B686E8UU1", Request id "0HN5B686E8UU1:00000009": done reading request body.
2024-07-23 23:11:21.834 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'capygram.Common.DTOs.User.UserAuthenticationDto'
2024-07-23 23:11:21.834 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserAuthenticationDto'.
2024-07-23 23:11:21.835 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserAuthenticationDto'.
2024-07-23 23:11:21.835 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'capygram.Common.DTOs.User.UserAuthenticationDto' ...
2024-07-23 23:11:21.839 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'capygram.Common.DTOs.User.UserAuthenticationDto'.
2024-07-23 23:11:21.977 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 23:11:21.978 +07:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 23:11:21.978 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 23:11:21.979 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 23:11:21.979 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 23:11:21.980 +07:00 [INF] Executing OkObjectResult, writing value of type 'capygram.Common.Shared.Result`1[[capygram.Common.DTOs.User.UserAuthenticationResponse, capygram.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 23:11:21.989 +07:00 [INF] Executed action capygram.Auth.Controllers.UsersController.Login (capygram.Auth) in 170.8859ms
2024-07-23 23:11:21.989 +07:00 [INF] Executed endpoint 'capygram.Auth.Controllers.UsersController.Login (capygram.Auth)'
2024-07-23 23:11:21.990 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7284/api/Users/login - 200 null application/json; charset=utf-8 232.3124ms
2024-07-23 23:11:36.231 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7284/api/Users/get-user-by-userID?UserID=caf779bf-0dfa-415b-afdc-08bf1054212e - null null
2024-07-23 23:11:36.233 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/get-user-by-userID'
2024-07-23 23:11:36.233 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.GetUserByUserID (capygram.Auth)' with route pattern 'api/Users/get-user-by-userID' is valid for the request path '/api/Users/get-user-by-userID'
2024-07-23 23:11:36.234 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.GetUserByUserID (capygram.Auth)'
2024-07-23 23:11:36.234 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 23:11:36.235 +07:00 [INF] Start request......!
2024-07-23 23:11:36.244 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 23:11:36.247 +07:00 [DBG] Policy authentication schemes  did not succeed
2024-07-23 23:11:36.249 +07:00 [INF] Authorization failed. Fail() was explicitly called.
2024-07-23 23:11:36.251 +07:00 [ERR] User is not authenticated
capygram.Common.Exceptions.UnAuthorizedExeption: User is not authenticated
   at capygram.Auth.DependencyInjection.Extensions.ServicesCollectionExtensions.<>c.<AddJwtAuthentication>b__3_4(JwtBearerChallengeContext context) in C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth\DependencyInjection\Extensions\ServicesCollectionExtensions.cs:line 97
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.Challenge(JwtBearerChallengeContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at capygram.Common.Middlewares.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\coode\Hit_Product\capygram-be\src\Services\capygram.Common\Middlewares\ExceptionHandlingMiddleware.cs:line 19
2024-07-23 23:11:36.274 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7284/api/Users/get-user-by-userID?UserID=caf779bf-0dfa-415b-afdc-08bf1054212e - 500 null application/json 43.1023ms
2024-07-23 23:12:36.040 +07:00 [DBG] Connection id "0HN5B686E8UU2" accepted.
2024-07-23 23:12:36.040 +07:00 [DBG] Connection id "0HN5B686E8UU2" started.
2024-07-23 23:12:36.040 +07:00 [DBG] Connection id "0HN5B686E8UU3" accepted.
2024-07-23 23:12:36.041 +07:00 [DBG] Connection id "0HN5B686E8UU2" received FIN.
2024-07-23 23:12:36.041 +07:00 [DBG] Connection id "0HN5B686E8UU3" started.
2024-07-23 23:12:36.041 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 23:12:36.042 +07:00 [DBG] Connection id "0HN5B686E8UU2" stopped.
2024-07-23 23:12:36.042 +07:00 [DBG] Connection id "0HN5B686E8UU2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 23:12:36.045 +07:00 [DBG] Connection 0HN5B686E8UU3 established using the following protocol: "Tls13"
2024-07-23 23:12:36.049 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7284/api/Users/get-user-by-userID?UserID=caf779bf-0dfa-415b-afdc-08bf1054212e - null null
2024-07-23 23:12:36.049 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/get-user-by-userID'
2024-07-23 23:12:36.049 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.GetUserByUserID (capygram.Auth)' with route pattern 'api/Users/get-user-by-userID' is valid for the request path '/api/Users/get-user-by-userID'
2024-07-23 23:12:36.050 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.GetUserByUserID (capygram.Auth)'
2024-07-23 23:12:36.050 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 23:12:36.051 +07:00 [INF] Start request......!
2024-07-23 23:12:36.092 +07:00 [DBG] Successfully validated the token.
2024-07-23 23:12:36.094 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 23:12:36.096 +07:00 [DBG] Authorization was successful.
2024-07-23 23:12:36.096 +07:00 [INF] Executing endpoint 'capygram.Auth.Controllers.UsersController.GetUserByUserID (capygram.Auth)'
2024-07-23 23:12:36.100 +07:00 [INF] Route matched with {action = "GetUserByUserID", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserByUserID(System.Guid) on controller capygram.Auth.Controllers.UsersController (capygram.Auth).
2024-07-23 23:12:36.100 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 23:12:36.100 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 23:12:36.100 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 23:12:36.101 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 23:12:36.101 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 23:12:36.101 +07:00 [DBG] Executing controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-07-23 23:12:36.103 +07:00 [DBG] Executed controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-07-23 23:12:36.104 +07:00 [DBG] Attempting to bind parameter 'UserID' of type 'System.Guid' ...
2024-07-23 23:12:36.104 +07:00 [DBG] Attempting to bind parameter 'UserID' of type 'System.Guid' using the name 'UserID' in request data ...
2024-07-23 23:12:36.105 +07:00 [DBG] Done attempting to bind parameter 'UserID' of type 'System.Guid'.
2024-07-23 23:12:36.105 +07:00 [DBG] Done attempting to bind parameter 'UserID' of type 'System.Guid'.
2024-07-23 23:12:36.105 +07:00 [DBG] Attempting to validate the bound parameter 'UserID' of type 'System.Guid' ...
2024-07-23 23:12:36.106 +07:00 [DBG] Done attempting to validate the bound parameter 'UserID' of type 'System.Guid'.
2024-07-23 23:12:36.112 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 23:12:36.113 +07:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 23:12:36.113 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 23:12:36.113 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 23:12:36.113 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 23:12:36.113 +07:00 [INF] Executing OkObjectResult, writing value of type 'capygram.Common.Shared.Result`1[[capygram.Auth.Domain.Model.User, capygram.Auth, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 23:12:36.121 +07:00 [INF] Executed action capygram.Auth.Controllers.UsersController.GetUserByUserID (capygram.Auth) in 20.0743ms
2024-07-23 23:12:36.121 +07:00 [INF] Executed endpoint 'capygram.Auth.Controllers.UsersController.GetUserByUserID (capygram.Auth)'
2024-07-23 23:12:36.122 +07:00 [DBG] Connection id "0HN5B686E8UU3" completed keep alive response.
2024-07-23 23:12:36.122 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7284/api/Users/get-user-by-userID?UserID=caf779bf-0dfa-415b-afdc-08bf1054212e - 200 null application/json; charset=utf-8 73.059ms
