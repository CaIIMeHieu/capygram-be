2024-08-03 12:35:04.070 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-03 12:35:04.944 +07:00 [DBG] Hosting starting
2024-08-03 12:35:05.077 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-03 12:35:05.254 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-08-03 12:35:05.404 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-08-03 12:35:05.430 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-08-03 12:35:05.451 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-08-03 12:35:05.473 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-08-03 12:35:05.501 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-08-03 12:35:05.506 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-08-03 12:35:05.507 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-08-03 12:35:05.507 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-08-03 12:35:05.513 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-08-03 12:35:05.516 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 12:35:05.518 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-03 12:35:05.520 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 12:35:05.523 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-03 12:35:05.524 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-03 12:35:05.525 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-08-03 12:35:05.526 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-08-03 12:35:05.528 +07:00 [DBG] Starting bus instances: IBus
2024-08-03 12:35:05.532 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-08-03 12:35:05.560 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-08-03 12:35:05.604 +07:00 [INF] Now listening on: http://[::]:5090
2024-08-03 12:35:05.604 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-08-03 12:35:05.604 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-03 12:35:05.605 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-03 12:35:05.605 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-03 12:35:05.605 +07:00 [INF] Hosting environment: Development
2024-08-03 12:35:05.605 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-08-03 12:35:05.606 +07:00 [DBG] Hosting started
2024-08-03 12:35:05.657 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 51909)
2024-08-03 12:35:05.683 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_jbpoyyysrsen7xdibdqmg9o8du?temporary=true"
2024-08-03 12:35:05.700 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-08-03 12:35:05.713 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-08-03 12:35:05.716 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-08-03 12:35:05.724 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-08-03 12:35:05.744 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-08-03 12:35:05.791 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-Cc5NiwcNHDbc601tMOXNOw
2024-08-03 12:35:05.792 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-08-03 12:35:05.795 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-08-03 12:35:06.046 +07:00 [DBG] Connection id "0HN5JFO3V8CHO" accepted.
2024-08-03 12:35:06.047 +07:00 [DBG] Connection id "0HN5JFO3V8CHO" started.
2024-08-03 12:35:06.057 +07:00 [DBG] Connection id "0HN5JFO3V8CHO" received FIN.
2024-08-03 12:35:06.058 +07:00 [DBG] Connection id "0HN5JFO3V8CHO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 12:35:06.062 +07:00 [DBG] Connection id "0HN5JFO3V8CHO" disconnecting.
2024-08-03 12:35:06.063 +07:00 [DBG] Connection id "0HN5JFO3V8CHO" stopped.
2024-08-03 12:35:06.172 +07:00 [DBG] Connection id "0HN5JFO3V8CHP" accepted.
2024-08-03 12:35:06.173 +07:00 [DBG] Connection id "0HN5JFO3V8CHP" started.
2024-08-03 12:35:06.173 +07:00 [DBG] Connection id "0HN5JFO3V8CHQ" accepted.
2024-08-03 12:35:06.173 +07:00 [DBG] Connection id "0HN5JFO3V8CHQ" started.
2024-08-03 12:35:06.206 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2024-08-03 12:35:06.286 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-03 12:35:06.308 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-03 12:35:06.311 +07:00 [DBG] Request did not match any endpoints
2024-08-03 12:35:06.400 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-03 12:35:06.402 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-03 12:35:06.411 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-03 12:35:06.412 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-03 12:35:06.412 +07:00 [DBG] Connection id "0HN5JFO3V8CHP" completed keep alive response.
2024-08-03 12:35:06.414 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 209.6909ms
2024-08-03 12:35:06.436 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - null null
2024-08-03 12:35:06.438 +07:00 [DBG] Connection id "0HN5JFO3V8CHP" completed keep alive response.
2024-08-03 12:35:06.439 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 3.1927ms
2024-08-03 12:35:06.477 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_vs/browserLink - null null
2024-08-03 12:35:06.499 +07:00 [DBG] Connection id "0HN5JFO3V8CHP" completed keep alive response.
2024-08-03 12:35:06.500 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.1042ms
2024-08-03 12:35:06.704 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2024-08-03 12:35:06.705 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-03 12:35:06.705 +07:00 [DBG] Request did not match any endpoints
2024-08-03 12:35:06.786 +07:00 [DBG] Connection id "0HN5JFO3V8CHP" completed keep alive response.
2024-08-03 12:35:06.787 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 82.9712ms
2024-08-03 12:36:00.921 +07:00 [DBG] Connection id "0HN5JFO3V8CHR" accepted.
2024-08-03 12:36:00.922 +07:00 [DBG] Connection id "0HN5JFO3V8CHR" received FIN.
2024-08-03 12:36:00.922 +07:00 [DBG] Connection id "0HN5JFO3V8CHR" started.
2024-08-03 12:36:00.923 +07:00 [DBG] Connection id "0HN5JFO3V8CHR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 12:36:00.923 +07:00 [DBG] Connection id "0HN5JFO3V8CHR" disconnecting.
2024-08-03 12:36:00.924 +07:00 [DBG] Connection id "0HN5JFO3V8CHR" stopped.
2024-08-03 12:36:01.238 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2024-08-03 12:36:01.256 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-03 12:36:01.257 +07:00 [DBG] Request did not match any endpoints
2024-08-03 12:36:01.268 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-03 12:36:01.272 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-03 12:36:01.283 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-03 12:36:01.283 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-03 12:36:01.284 +07:00 [DBG] Connection id "0HN5JFO3V8CHP" completed keep alive response.
2024-08-03 12:36:01.285 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 46.6433ms
2024-08-03 12:36:01.315 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - null null
2024-08-03 12:36:01.340 +07:00 [DBG] Connection id "0HN5JFO3V8CHP" completed keep alive response.
2024-08-03 12:36:01.343 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 28.0078ms
2024-08-03 12:36:01.367 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_vs/browserLink - null null
2024-08-03 12:36:01.409 +07:00 [DBG] Connection id "0HN5JFO3V8CHP" completed keep alive response.
2024-08-03 12:36:01.416 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.0688ms
2024-08-03 12:36:01.895 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2024-08-03 12:36:01.914 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-03 12:36:01.922 +07:00 [DBG] Request did not match any endpoints
2024-08-03 12:36:01.938 +07:00 [DBG] Connection id "0HN5JFO3V8CHP" completed keep alive response.
2024-08-03 12:36:01.950 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 54.6672ms
2024-08-03 12:36:06.253 +07:00 [DBG] Connection id "0HN5JFO3V8CHQ" received FIN.
2024-08-03 12:36:06.254 +07:00 [DBG] Connection id "0HN5JFO3V8CHQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 12:36:06.254 +07:00 [DBG] Connection id "0HN5JFO3V8CHQ" disconnecting.
2024-08-03 12:36:06.254 +07:00 [DBG] Connection id "0HN5JFO3V8CHQ" stopped.
2024-08-03 12:38:12.415 +07:00 [DBG] Connection id "0HN5JFO3V8CHP" disconnecting.
2024-08-03 12:38:12.415 +07:00 [DBG] Connection id "0HN5JFO3V8CHP" stopped.
2024-08-03 12:38:12.416 +07:00 [DBG] Connection id "0HN5JFO3V8CHP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 12:38:24.366 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-03 12:38:24.632 +07:00 [DBG] Hosting starting
2024-08-03 12:38:24.642 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-03 12:38:24.821 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-08-03 12:38:24.904 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-08-03 12:38:24.907 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-08-03 12:38:24.908 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-08-03 12:38:24.908 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-08-03 12:38:24.910 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-08-03 12:38:24.912 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-08-03 12:38:24.922 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-08-03 12:38:24.929 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-08-03 12:38:24.935 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-08-03 12:38:24.937 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 12:38:24.938 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-03 12:38:24.939 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 12:38:24.942 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-03 12:38:24.942 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-03 12:38:24.943 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-08-03 12:38:24.944 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-08-03 12:38:24.945 +07:00 [DBG] Starting bus instances: IBus
2024-08-03 12:38:24.948 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-08-03 12:38:24.968 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-08-03 12:38:24.998 +07:00 [INF] Now listening on: http://[::]:5090
2024-08-03 12:38:24.999 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-08-03 12:38:24.999 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-03 12:38:24.999 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-03 12:38:24.999 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-03 12:38:25.000 +07:00 [INF] Hosting environment: Development
2024-08-03 12:38:25.000 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-08-03 12:38:25.000 +07:00 [DBG] Hosting started
2024-08-03 12:38:25.052 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 52016)
2024-08-03 12:38:25.074 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_wtwoyyysrsen74wmbdqmg9u6de?temporary=true"
2024-08-03 12:38:25.092 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-08-03 12:38:25.116 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-08-03 12:38:25.119 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-08-03 12:38:25.124 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-08-03 12:38:25.148 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-08-03 12:38:25.207 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-yC3lkcPnMheEaCsSsVCG0w
2024-08-03 12:38:25.208 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-08-03 12:38:25.211 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-08-03 12:38:27.371 +07:00 [DBG] Connection id "0HN5JFPVV7VN8" received FIN.
2024-08-03 12:38:27.375 +07:00 [DBG] Connection id "0HN5JFPVV7VN8" accepted.
2024-08-03 12:38:27.377 +07:00 [DBG] Connection id "0HN5JFPVV7VN8" started.
2024-08-03 12:38:27.390 +07:00 [DBG] Connection id "0HN5JFPVV7VN8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 12:38:27.395 +07:00 [DBG] Connection id "0HN5JFPVV7VN8" disconnecting.
2024-08-03 12:38:27.406 +07:00 [DBG] Connection id "0HN5JFPVV7VN8" stopped.
2024-08-03 12:38:27.512 +07:00 [DBG] Connection id "0HN5JFPVV7VN9" accepted.
2024-08-03 12:38:27.514 +07:00 [DBG] Connection id "0HN5JFPVV7VNA" accepted.
2024-08-03 12:38:27.514 +07:00 [DBG] Connection id "0HN5JFPVV7VN9" started.
2024-08-03 12:38:27.514 +07:00 [DBG] Connection id "0HN5JFPVV7VNA" started.
2024-08-03 12:38:27.535 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2024-08-03 12:38:27.592 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-03 12:38:27.609 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-03 12:38:27.610 +07:00 [DBG] Request did not match any endpoints
2024-08-03 12:38:27.698 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-03 12:38:27.700 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-03 12:38:27.710 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-03 12:38:27.711 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-03 12:38:27.712 +07:00 [DBG] Connection id "0HN5JFPVV7VN9" completed keep alive response.
2024-08-03 12:38:27.713 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 179.4855ms
2024-08-03 12:38:27.825 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_vs/browserLink - null null
2024-08-03 12:38:27.836 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - null null
2024-08-03 12:38:27.844 +07:00 [DBG] Connection id "0HN5JFPVV7VNA" completed keep alive response.
2024-08-03 12:38:27.844 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.6641ms
2024-08-03 12:38:27.874 +07:00 [DBG] Connection id "0HN5JFPVV7VN9" completed keep alive response.
2024-08-03 12:38:27.875 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.2993ms
2024-08-03 12:38:28.006 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2024-08-03 12:38:28.013 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-03 12:38:28.026 +07:00 [DBG] Request did not match any endpoints
2024-08-03 12:38:28.065 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/favicon-32x32.png - null null
2024-08-03 12:38:28.068 +07:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-08-03 12:38:28.074 +07:00 [DBG] Request did not match any endpoints
2024-08-03 12:38:28.097 +07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-08-03 12:38:28.108 +07:00 [DBG] Connection id "0HN5JFPVV7VNA" completed keep alive response.
2024-08-03 12:38:28.139 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/favicon-32x32.png - 200 628 image/png 74.0793ms
2024-08-03 12:38:28.182 +07:00 [DBG] Connection id "0HN5JFPVV7VN9" completed keep alive response.
2024-08-03 12:38:28.182 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 176.5895ms
2024-08-03 12:40:39.375 +07:00 [DBG] Connection id "0HN5JFPVV7VN9" disconnecting.
2024-08-03 12:40:39.375 +07:00 [DBG] Connection id "0HN5JFPVV7VNA" disconnecting.
2024-08-03 12:40:39.376 +07:00 [DBG] Connection id "0HN5JFPVV7VN9" stopped.
2024-08-03 12:40:39.376 +07:00 [DBG] Connection id "0HN5JFPVV7VNA" stopped.
2024-08-03 12:40:39.377 +07:00 [DBG] Connection id "0HN5JFPVV7VN9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 12:40:39.377 +07:00 [DBG] Connection id "0HN5JFPVV7VNA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 12:41:48.729 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-03 12:41:49.194 +07:00 [DBG] Hosting starting
2024-08-03 12:41:49.258 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-03 12:41:49.531 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-08-03 12:41:49.621 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-08-03 12:41:49.628 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-08-03 12:41:49.628 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-08-03 12:41:49.629 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-08-03 12:41:49.640 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-08-03 12:41:49.643 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-08-03 12:41:49.644 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-08-03 12:41:49.644 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-08-03 12:41:49.648 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-08-03 12:41:49.650 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 12:41:49.662 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-03 12:41:49.669 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 12:41:49.671 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-03 12:41:49.673 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-03 12:41:49.674 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-08-03 12:41:49.674 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-08-03 12:41:49.675 +07:00 [DBG] Starting bus instances: IBus
2024-08-03 12:41:49.678 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-08-03 12:41:49.716 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-08-03 12:41:49.824 +07:00 [INF] Now listening on: http://[::]:5090
2024-08-03 12:41:49.824 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-08-03 12:41:49.824 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-03 12:41:49.825 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-03 12:41:49.825 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-03 12:41:49.826 +07:00 [INF] Hosting environment: Development
2024-08-03 12:41:49.826 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-08-03 12:41:49.826 +07:00 [DBG] Hosting started
2024-08-03 12:41:49.865 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 52184)
2024-08-03 12:41:49.934 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_jbjoyyysrsen7cjxbdqmg9zadc?temporary=true"
2024-08-03 12:41:49.955 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-08-03 12:41:49.984 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-08-03 12:41:49.989 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-08-03 12:41:49.994 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-08-03 12:41:50.017 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-08-03 12:41:50.123 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-TuXgpgzAZjE084GaI6K7dQ
2024-08-03 12:41:50.125 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-08-03 12:41:50.129 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-08-03 12:41:52.718 +07:00 [DBG] Connection id "0HN5JFRT5IR88" received FIN.
2024-08-03 12:41:52.722 +07:00 [DBG] Connection id "0HN5JFRT5IR88" accepted.
2024-08-03 12:41:52.723 +07:00 [DBG] Connection id "0HN5JFRT5IR88" started.
2024-08-03 12:41:52.728 +07:00 [DBG] Connection id "0HN5JFRT5IR88" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 12:41:52.731 +07:00 [DBG] Connection id "0HN5JFRT5IR88" disconnecting.
2024-08-03 12:41:52.733 +07:00 [DBG] Connection id "0HN5JFRT5IR88" stopped.
2024-08-03 12:42:00.429 +07:00 [DBG] Connection id "0HN5JFRT5IR89" accepted.
2024-08-03 12:42:00.429 +07:00 [DBG] Connection id "0HN5JFRT5IR89" started.
2024-08-03 12:42:00.430 +07:00 [DBG] Connection id "0HN5JFRT5IR8A" accepted.
2024-08-03 12:42:00.430 +07:00 [DBG] Connection id "0HN5JFRT5IR8A" started.
2024-08-03 12:42:00.571 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2024-08-03 12:42:00.765 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-03 12:42:00.828 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-03 12:42:00.830 +07:00 [DBG] Request did not match any endpoints
2024-08-03 12:42:00.997 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-03 12:42:00.999 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-03 12:42:01.021 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-03 12:42:01.022 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-03 12:42:01.023 +07:00 [DBG] Connection id "0HN5JFRT5IR89" completed keep alive response.
2024-08-03 12:42:01.025 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 473.6629ms
2024-08-03 12:42:01.327 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - null null
2024-08-03 12:42:01.331 +07:00 [DBG] Connection id "0HN5JFRT5IR89" completed keep alive response.
2024-08-03 12:42:01.332 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 5.9042ms
2024-08-03 12:42:01.377 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_vs/browserLink - null null
2024-08-03 12:42:01.440 +07:00 [DBG] Connection id "0HN5JFRT5IR89" completed keep alive response.
2024-08-03 12:42:01.441 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.2888ms
2024-08-03 12:42:02.688 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2024-08-03 12:42:02.745 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-03 12:42:02.750 +07:00 [DBG] Request did not match any endpoints
2024-08-03 12:42:03.084 +07:00 [DBG] Connection id "0HN5JFRT5IR89" completed keep alive response.
2024-08-03 12:42:03.100 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 413.1916ms
2024-08-03 12:45:28.827 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-03 12:45:29.401 +07:00 [DBG] Hosting starting
2024-08-03 12:45:29.477 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-03 12:45:29.753 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-08-03 12:45:29.883 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-08-03 12:45:29.891 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-08-03 12:45:29.892 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-08-03 12:45:29.893 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-08-03 12:45:29.897 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-08-03 12:45:29.901 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-08-03 12:45:29.902 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-08-03 12:45:29.902 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-08-03 12:45:29.908 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-08-03 12:45:29.914 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 12:45:29.917 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-03 12:45:29.920 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 12:45:29.923 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-03 12:45:29.925 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-03 12:45:29.927 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-08-03 12:45:29.927 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-08-03 12:45:29.929 +07:00 [DBG] Starting bus instances: IBus
2024-08-03 12:45:29.933 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-08-03 12:45:29.979 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-08-03 12:45:30.119 +07:00 [INF] Now listening on: http://[::]:5090
2024-08-03 12:45:30.119 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-08-03 12:45:30.119 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-03 12:45:30.120 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-03 12:45:30.120 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-03 12:45:30.121 +07:00 [INF] Hosting environment: Development
2024-08-03 12:45:30.121 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-08-03 12:45:30.121 +07:00 [DBG] Hosting started
2024-08-03 12:45:30.163 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 52360)
2024-08-03 12:45:30.248 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_xtjyyyysrsen7aowbdqmg955fp?temporary=true"
2024-08-03 12:45:30.271 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-08-03 12:45:30.293 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-08-03 12:45:30.300 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-08-03 12:45:30.307 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-08-03 12:45:30.338 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-08-03 12:45:30.407 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-2Vx7iEWnla19Ik-K0mm8NQ
2024-08-03 12:45:30.408 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-08-03 12:45:30.415 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-08-03 12:45:31.933 +07:00 [DBG] Connection id "0HN5JFTUG5Q0H" received FIN.
2024-08-03 12:45:31.940 +07:00 [DBG] Connection id "0HN5JFTUG5Q0H" accepted.
2024-08-03 12:45:31.946 +07:00 [DBG] Connection id "0HN5JFTUG5Q0H" started.
2024-08-03 12:45:31.957 +07:00 [DBG] Connection id "0HN5JFTUG5Q0H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 12:45:31.960 +07:00 [DBG] Connection id "0HN5JFTUG5Q0H" disconnecting.
2024-08-03 12:45:31.963 +07:00 [DBG] Connection id "0HN5JFTUG5Q0H" stopped.
2024-08-03 12:45:33.364 +07:00 [DBG] Connection id "0HN5JFTUG5Q0I" accepted.
2024-08-03 12:45:33.364 +07:00 [DBG] Connection id "0HN5JFTUG5Q0I" started.
2024-08-03 12:45:33.365 +07:00 [DBG] Connection id "0HN5JFTUG5Q0J" accepted.
2024-08-03 12:45:33.365 +07:00 [DBG] Connection id "0HN5JFTUG5Q0J" started.
2024-08-03 12:45:33.721 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2024-08-03 12:45:33.881 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-03 12:45:33.985 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-03 12:45:33.987 +07:00 [DBG] Request did not match any endpoints
2024-08-03 12:45:34.152 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-03 12:45:34.156 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-03 12:45:34.203 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-03 12:45:34.204 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-03 12:45:34.207 +07:00 [DBG] Connection id "0HN5JFTUG5Q0I" completed keep alive response.
2024-08-03 12:45:34.210 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 495.7151ms
2024-08-03 12:45:34.679 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - null null
2024-08-03 12:45:34.683 +07:00 [DBG] Connection id "0HN5JFTUG5Q0I" completed keep alive response.
2024-08-03 12:45:34.684 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 5.1052ms
2024-08-03 12:45:34.764 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_vs/browserLink - null null
2024-08-03 12:45:34.809 +07:00 [DBG] Connection id "0HN5JFTUG5Q0I" completed keep alive response.
2024-08-03 12:45:34.809 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.0295ms
2024-08-03 12:45:36.242 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2024-08-03 12:45:36.244 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-03 12:45:36.245 +07:00 [DBG] Request did not match any endpoints
2024-08-03 12:45:36.442 +07:00 [DBG] Connection id "0HN5JFTUG5Q0I" completed keep alive response.
2024-08-03 12:45:36.443 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 201.0341ms
2024-08-03 12:46:45.417 +07:00 [DBG] Connection id "0HN5JFTUG5Q0J" received FIN.
2024-08-03 12:46:45.419 +07:00 [DBG] Connection id "0HN5JFTUG5Q0J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 12:46:45.420 +07:00 [DBG] Connection id "0HN5JFTUG5Q0J" disconnecting.
2024-08-03 12:46:45.425 +07:00 [DBG] Connection id "0HN5JFTUG5Q0J" stopped.
2024-08-03 12:50:20.046 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-03 12:50:20.520 +07:00 [DBG] Hosting starting
2024-08-03 12:50:20.564 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-03 12:50:20.826 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-08-03 12:50:20.941 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-08-03 12:50:20.948 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-08-03 12:50:20.949 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-08-03 12:50:20.949 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-08-03 12:50:20.953 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-08-03 12:50:20.956 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-08-03 12:50:20.957 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-08-03 12:50:20.957 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-08-03 12:50:20.963 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-08-03 12:50:20.966 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 12:50:20.968 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-03 12:50:20.969 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 12:50:20.972 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-03 12:50:20.973 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-03 12:50:20.975 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-08-03 12:50:20.976 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-08-03 12:50:20.977 +07:00 [DBG] Starting bus instances: IBus
2024-08-03 12:50:20.981 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-08-03 12:50:21.028 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-08-03 12:50:21.148 +07:00 [INF] Now listening on: http://[::]:5090
2024-08-03 12:50:21.149 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-08-03 12:50:21.149 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-03 12:50:21.149 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-03 12:50:21.150 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-03 12:50:21.150 +07:00 [INF] Hosting environment: Development
2024-08-03 12:50:21.150 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-08-03 12:50:21.150 +07:00 [DBG] Hosting started
2024-08-03 12:50:21.200 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 52697)
2024-08-03 12:50:21.244 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_ab1oyyysrsenhj4mbdqm8ybjbq?temporary=true"
2024-08-03 12:50:21.265 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-08-03 12:50:21.290 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-08-03 12:50:21.296 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-08-03 12:50:21.304 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-08-03 12:50:21.334 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-08-03 12:50:21.411 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-Umjl7E6TI6ZuQFkSVXLU-g
2024-08-03 12:50:21.412 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-08-03 12:50:21.416 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-08-03 12:50:23.037 +07:00 [DBG] Connection id "0HN5JG0L8BQIO" received FIN.
2024-08-03 12:50:23.044 +07:00 [DBG] Connection id "0HN5JG0L8BQIO" accepted.
2024-08-03 12:50:23.047 +07:00 [DBG] Connection id "0HN5JG0L8BQIO" started.
2024-08-03 12:50:23.058 +07:00 [DBG] Connection id "0HN5JG0L8BQIO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 12:50:23.062 +07:00 [DBG] Connection id "0HN5JG0L8BQIO" disconnecting.
2024-08-03 12:50:23.066 +07:00 [DBG] Connection id "0HN5JG0L8BQIO" stopped.
2024-08-03 12:50:23.782 +07:00 [DBG] Connection id "0HN5JG0L8BQIP" accepted.
2024-08-03 12:50:23.785 +07:00 [DBG] Connection id "0HN5JG0L8BQIQ" accepted.
2024-08-03 12:50:23.786 +07:00 [DBG] Connection id "0HN5JG0L8BQIP" started.
2024-08-03 12:50:23.788 +07:00 [DBG] Connection id "0HN5JG0L8BQIQ" started.
2024-08-03 12:50:23.956 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2024-08-03 12:50:24.381 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-03 12:50:24.509 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-03 12:50:24.510 +07:00 [DBG] Request did not match any endpoints
2024-08-03 12:50:24.696 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-03 12:50:24.703 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-03 12:50:24.755 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-03 12:50:24.758 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-03 12:50:24.760 +07:00 [DBG] Connection id "0HN5JG0L8BQIQ" completed keep alive response.
2024-08-03 12:50:24.763 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 813.5706ms
2024-08-03 12:50:25.044 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - null null
2024-08-03 12:50:25.047 +07:00 [DBG] Connection id "0HN5JG0L8BQIQ" completed keep alive response.
2024-08-03 12:50:25.048 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 4.4432ms
2024-08-03 12:50:25.068 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_vs/browserLink - null null
2024-08-03 12:50:25.165 +07:00 [DBG] Connection id "0HN5JG0L8BQIQ" completed keep alive response.
2024-08-03 12:50:25.166 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_vs/browserLink - 200 null text/javascript; charset=UTF-8 97.4411ms
2024-08-03 12:50:26.063 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2024-08-03 12:50:26.072 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-03 12:50:26.074 +07:00 [DBG] Request did not match any endpoints
2024-08-03 12:50:26.359 +07:00 [DBG] Connection id "0HN5JG0L8BQIQ" completed keep alive response.
2024-08-03 12:50:26.360 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 296.7963ms
2024-08-03 12:51:37.107 +07:00 [DBG] Connection id "0HN5JG0L8BQIP" received FIN.
2024-08-03 12:51:37.109 +07:00 [DBG] Connection id "0HN5JG0L8BQIP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 12:51:37.110 +07:00 [DBG] Connection id "0HN5JG0L8BQIP" disconnecting.
2024-08-03 12:51:37.120 +07:00 [DBG] Connection id "0HN5JG0L8BQIP" stopped.
2024-08-03 12:52:09.101 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-03 12:52:09.564 +07:00 [DBG] Hosting starting
2024-08-03 12:52:09.624 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-03 12:52:09.851 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-08-03 12:52:09.946 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-08-03 12:52:09.951 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-08-03 12:52:09.952 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-08-03 12:52:09.952 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-08-03 12:52:09.956 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-08-03 12:52:09.960 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-08-03 12:52:09.960 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-08-03 12:52:09.960 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-08-03 12:52:09.965 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-08-03 12:52:09.967 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 12:52:09.969 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-03 12:52:09.972 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 12:52:09.975 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-03 12:52:09.976 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-03 12:52:09.977 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-08-03 12:52:09.978 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-08-03 12:52:09.979 +07:00 [DBG] Starting bus instances: IBus
2024-08-03 12:52:09.982 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-08-03 12:52:10.028 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-08-03 12:52:10.792 +07:00 [INF] Now listening on: http://[::]:5090
2024-08-03 12:52:10.792 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-08-03 12:52:10.792 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-03 12:52:10.792 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-03 12:52:10.793 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-03 12:52:10.793 +07:00 [INF] Hosting environment: Development
2024-08-03 12:52:10.793 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-08-03 12:52:10.794 +07:00 [DBG] Hosting started
2024-08-03 12:52:10.834 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 52850)
2024-08-03 12:52:10.882 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_qt9yyyysrsen7ojibdqm8ydkbj?temporary=true"
2024-08-03 12:52:10.907 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-08-03 12:52:10.926 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-08-03 12:52:10.933 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-08-03 12:52:10.939 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-08-03 12:52:10.973 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-08-03 12:52:11.057 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-en7eEpMj5EWRWL9sVYUzwQ
2024-08-03 12:52:11.058 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-08-03 12:52:11.062 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-08-03 12:52:11.230 +07:00 [DBG] Connection id "0HN5JG1LG5JED" received FIN.
2024-08-03 12:52:11.237 +07:00 [DBG] Connection id "0HN5JG1LG5JED" accepted.
2024-08-03 12:52:11.238 +07:00 [DBG] Connection id "0HN5JG1LG5JED" started.
2024-08-03 12:52:11.256 +07:00 [DBG] Connection id "0HN5JG1LG5JED" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 12:52:11.260 +07:00 [DBG] Connection id "0HN5JG1LG5JED" disconnecting.
2024-08-03 12:52:11.265 +07:00 [DBG] Connection id "0HN5JG1LG5JED" stopped.
2024-08-03 12:52:12.302 +07:00 [DBG] Connection id "0HN5JG1LG5JEE" accepted.
2024-08-03 12:52:12.307 +07:00 [DBG] Connection id "0HN5JG1LG5JEF" accepted.
2024-08-03 12:52:12.311 +07:00 [DBG] Connection id "0HN5JG1LG5JEE" started.
2024-08-03 12:52:12.323 +07:00 [DBG] Connection id "0HN5JG1LG5JEF" started.
2024-08-03 12:52:12.718 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2024-08-03 12:52:12.878 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-03 12:52:12.934 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-03 12:52:12.937 +07:00 [DBG] Request did not match any endpoints
2024-08-03 12:52:13.099 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-03 12:52:13.109 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-03 12:52:13.140 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-03 12:52:13.141 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-03 12:52:13.141 +07:00 [DBG] Connection id "0HN5JG1LG5JEF" completed keep alive response.
2024-08-03 12:52:13.143 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 432.5708ms
2024-08-03 12:52:13.942 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - null null
2024-08-03 12:52:13.945 +07:00 [DBG] Connection id "0HN5JG1LG5JEF" completed keep alive response.
2024-08-03 12:52:13.946 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 4.498ms
2024-08-03 12:52:13.966 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_vs/browserLink - null null
2024-08-03 12:52:14.051 +07:00 [DBG] Connection id "0HN5JG1LG5JEF" completed keep alive response.
2024-08-03 12:52:14.051 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_vs/browserLink - 200 null text/javascript; charset=UTF-8 84.5545ms
2024-08-03 12:52:14.644 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2024-08-03 12:52:14.646 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-03 12:52:14.647 +07:00 [DBG] Request did not match any endpoints
2024-08-03 12:52:14.823 +07:00 [DBG] Connection id "0HN5JG1LG5JEF" completed keep alive response.
2024-08-03 12:52:14.825 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 181.2048ms
2024-08-03 12:53:22.769 +07:00 [DBG] Connection id "0HN5JG1LG5JEE" received FIN.
2024-08-03 12:53:22.769 +07:00 [DBG] Connection id "0HN5JG1LG5JEE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 12:53:22.770 +07:00 [DBG] Connection id "0HN5JG1LG5JEE" disconnecting.
2024-08-03 12:53:22.771 +07:00 [DBG] Connection id "0HN5JG1LG5JEE" stopped.
2024-08-03 13:09:59.532 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-03 13:10:00.082 +07:00 [DBG] Hosting starting
2024-08-03 13:10:00.139 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-03 13:10:00.393 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-08-03 13:10:00.523 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-08-03 13:10:00.529 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-08-03 13:10:00.530 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-08-03 13:10:00.530 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-08-03 13:10:00.534 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-08-03 13:10:00.539 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-08-03 13:10:00.539 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-08-03 13:10:00.539 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-08-03 13:10:00.545 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-08-03 13:10:00.549 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 13:10:00.553 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-03 13:10:00.554 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 13:10:00.557 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-03 13:10:00.559 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-03 13:10:00.561 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-08-03 13:10:00.562 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-08-03 13:10:00.563 +07:00 [DBG] Starting bus instances: IBus
2024-08-03 13:10:00.567 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-08-03 13:10:00.655 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-08-03 13:10:00.778 +07:00 [INF] Now listening on: http://[::]:5090
2024-08-03 13:10:00.778 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-08-03 13:10:00.779 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-03 13:10:00.779 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-03 13:10:00.779 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-03 13:10:00.779 +07:00 [INF] Hosting environment: Development
2024-08-03 13:10:00.780 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-08-03 13:10:00.780 +07:00 [DBG] Hosting started
2024-08-03 13:10:00.822 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 53169)
2024-08-03 13:10:00.902 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_ttxoyyysrsen7yj4bdqm8yzeb7?temporary=true"
2024-08-03 13:10:00.926 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-08-03 13:10:00.948 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-08-03 13:10:00.953 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-08-03 13:10:00.959 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-08-03 13:10:00.980 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-08-03 13:10:01.060 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-x9z9iFmYO0C11cyRt2ctJA
2024-08-03 13:10:01.062 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-08-03 13:10:01.066 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-08-03 13:10:01.882 +07:00 [DBG] Connection id "0HN5JGBKIMIUH" received FIN.
2024-08-03 13:10:01.888 +07:00 [DBG] Connection id "0HN5JGBKIMIUH" accepted.
2024-08-03 13:10:01.890 +07:00 [DBG] Connection id "0HN5JGBKIMIUH" started.
2024-08-03 13:10:01.900 +07:00 [DBG] Connection id "0HN5JGBKIMIUH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 13:10:01.904 +07:00 [DBG] Connection id "0HN5JGBKIMIUH" disconnecting.
2024-08-03 13:10:01.908 +07:00 [DBG] Connection id "0HN5JGBKIMIUH" stopped.
2024-08-03 13:10:03.657 +07:00 [DBG] Connection id "0HN5JGBKIMIUI" accepted.
2024-08-03 13:10:03.662 +07:00 [DBG] Connection id "0HN5JGBKIMIUJ" accepted.
2024-08-03 13:10:03.662 +07:00 [DBG] Connection id "0HN5JGBKIMIUI" started.
2024-08-03 13:10:03.663 +07:00 [DBG] Connection id "0HN5JGBKIMIUJ" started.
2024-08-03 13:10:03.842 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2024-08-03 13:10:04.144 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-03 13:10:04.209 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-03 13:10:04.212 +07:00 [DBG] Request did not match any endpoints
2024-08-03 13:10:04.388 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-03 13:10:04.404 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-03 13:10:04.615 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-03 13:10:04.616 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-03 13:10:04.617 +07:00 [DBG] Connection id "0HN5JGBKIMIUJ" completed keep alive response.
2024-08-03 13:10:04.621 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 788.1866ms
2024-08-03 13:10:05.504 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - null null
2024-08-03 13:10:05.534 +07:00 [DBG] Connection id "0HN5JGBKIMIUJ" completed keep alive response.
2024-08-03 13:10:05.545 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 34.8079ms
2024-08-03 13:10:05.650 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_vs/browserLink - null null
2024-08-03 13:10:05.717 +07:00 [DBG] Connection id "0HN5JGBKIMIUJ" completed keep alive response.
2024-08-03 13:10:05.718 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_vs/browserLink - 200 null text/javascript; charset=UTF-8 67.1847ms
2024-08-03 13:10:07.300 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2024-08-03 13:10:07.304 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-03 13:10:07.304 +07:00 [DBG] Request did not match any endpoints
2024-08-03 13:10:07.490 +07:00 [DBG] Connection id "0HN5JGBKIMIUJ" completed keep alive response.
2024-08-03 13:10:07.491 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 190.9256ms
2024-08-03 13:11:09.553 +07:00 [DBG] Connection id "0HN5JGBKIMIUI" received FIN.
2024-08-03 13:11:09.563 +07:00 [DBG] Connection id "0HN5JGBKIMIUI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 13:11:09.564 +07:00 [DBG] Connection id "0HN5JGBKIMIUI" disconnecting.
2024-08-03 13:11:09.570 +07:00 [DBG] Connection id "0HN5JGBKIMIUI" stopped.
2024-08-03 13:14:19.274 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-03 13:14:19.850 +07:00 [DBG] Hosting starting
2024-08-03 13:14:19.897 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-03 13:14:20.094 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-08-03 13:14:20.230 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-08-03 13:14:20.240 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-08-03 13:14:20.241 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-08-03 13:14:20.241 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-08-03 13:14:20.247 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-08-03 13:14:20.252 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-08-03 13:14:20.253 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-08-03 13:14:20.253 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-08-03 13:14:20.258 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-08-03 13:14:20.261 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 13:14:20.263 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-03 13:14:20.265 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 13:14:20.270 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-03 13:14:20.271 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-03 13:14:20.274 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-08-03 13:14:20.275 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-08-03 13:14:20.277 +07:00 [DBG] Starting bus instances: IBus
2024-08-03 13:14:20.282 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-08-03 13:14:20.347 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-08-03 13:14:20.553 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 53280)
2024-08-03 13:14:20.587 +07:00 [INF] Now listening on: http://[::]:5090
2024-08-03 13:14:20.588 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-08-03 13:14:20.592 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-03 13:14:20.595 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-03 13:14:20.598 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-03 13:14:20.599 +07:00 [INF] Hosting environment: Development
2024-08-03 13:14:20.599 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-08-03 13:14:20.601 +07:00 [DBG] Hosting started
2024-08-03 13:14:20.632 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_utqyyyysrsenhu9dbdqm8yhdyp?temporary=true"
2024-08-03 13:14:20.693 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-08-03 13:14:20.717 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-08-03 13:14:20.725 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-08-03 13:14:20.733 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-08-03 13:14:20.763 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-08-03 13:14:20.856 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-oDAn9p7_3gtEPOSuPCMOjg
2024-08-03 13:14:20.857 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-08-03 13:14:20.860 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-08-03 13:14:21.652 +07:00 [DBG] Connection id "0HN5JGE2025N6" received FIN.
2024-08-03 13:14:21.661 +07:00 [DBG] Connection id "0HN5JGE2025N6" accepted.
2024-08-03 13:14:21.663 +07:00 [DBG] Connection id "0HN5JGE2025N6" started.
2024-08-03 13:14:21.675 +07:00 [DBG] Connection id "0HN5JGE2025N6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 13:14:21.686 +07:00 [DBG] Connection id "0HN5JGE2025N6" disconnecting.
2024-08-03 13:14:21.698 +07:00 [DBG] Connection id "0HN5JGE2025N6" stopped.
2024-08-03 13:14:22.926 +07:00 [DBG] Connection id "0HN5JGE2025N7" accepted.
2024-08-03 13:14:22.928 +07:00 [DBG] Connection id "0HN5JGE2025N8" accepted.
2024-08-03 13:14:22.929 +07:00 [DBG] Connection id "0HN5JGE2025N7" started.
2024-08-03 13:14:22.930 +07:00 [DBG] Connection id "0HN5JGE2025N8" started.
2024-08-03 13:14:23.134 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2024-08-03 13:14:23.323 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-03 13:14:23.391 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-03 13:14:23.407 +07:00 [DBG] Request did not match any endpoints
2024-08-03 13:14:23.657 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-03 13:14:23.692 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-03 13:14:23.758 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-03 13:14:23.759 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-03 13:14:23.761 +07:00 [DBG] Connection id "0HN5JGE2025N8" completed keep alive response.
2024-08-03 13:14:23.766 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 643.1785ms
2024-08-03 13:14:24.656 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - null null
2024-08-03 13:14:24.668 +07:00 [DBG] Connection id "0HN5JGE2025N8" completed keep alive response.
2024-08-03 13:14:24.671 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 13.4095ms
2024-08-03 13:14:24.898 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_vs/browserLink - null null
2024-08-03 13:14:24.962 +07:00 [DBG] Connection id "0HN5JGE2025N8" completed keep alive response.
2024-08-03 13:14:24.963 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.4289ms
2024-08-03 13:14:26.401 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2024-08-03 13:14:26.402 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-03 13:14:26.402 +07:00 [DBG] Request did not match any endpoints
2024-08-03 13:14:26.585 +07:00 [DBG] Connection id "0HN5JGE2025N8" completed keep alive response.
2024-08-03 13:14:26.586 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 185.2608ms
2024-08-03 13:16:30.513 +07:00 [DBG] Connection id "0HN5JGE2025N7" received FIN.
2024-08-03 13:16:30.514 +07:00 [DBG] Connection id "0HN5JGE2025N7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 13:16:30.515 +07:00 [DBG] Connection id "0HN5JGE2025N7" disconnecting.
2024-08-03 13:16:30.519 +07:00 [DBG] Connection id "0HN5JGE2025N7" stopped.
2024-08-03 13:19:27.282 +07:00 [DBG] Connection id "0HN5JGE2025N8" received FIN.
2024-08-03 13:19:27.282 +07:00 [DBG] Connection id "0HN5JGE2025N8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 13:19:27.283 +07:00 [DBG] Connection id "0HN5JGE2025N8" disconnecting.
2024-08-03 13:19:27.291 +07:00 [DBG] Connection id "0HN5JGE2025N8" stopped.
2024-08-03 13:33:15.151 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-03 13:33:15.602 +07:00 [DBG] Hosting starting
2024-08-03 13:33:15.655 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-03 13:33:15.868 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-08-03 13:33:15.979 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-08-03 13:33:15.985 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-08-03 13:33:15.986 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-08-03 13:33:15.986 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-08-03 13:33:15.990 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-08-03 13:33:15.994 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-08-03 13:33:15.994 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-08-03 13:33:15.994 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-08-03 13:33:15.999 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-08-03 13:33:16.001 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 13:33:16.003 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-03 13:33:16.005 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 13:33:16.007 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-03 13:33:16.008 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-03 13:33:16.009 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-08-03 13:33:16.010 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-08-03 13:33:16.011 +07:00 [DBG] Starting bus instances: IBus
2024-08-03 13:33:16.014 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-08-03 13:33:16.057 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-08-03 13:33:16.175 +07:00 [INF] Now listening on: http://[::]:5090
2024-08-03 13:33:16.175 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-08-03 13:33:16.175 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-03 13:33:16.175 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-03 13:33:16.175 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-03 13:33:16.176 +07:00 [INF] Hosting environment: Development
2024-08-03 13:33:16.176 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-08-03 13:33:16.176 +07:00 [DBG] Hosting started
2024-08-03 13:33:16.213 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 53653)
2024-08-03 13:33:16.265 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_tokoyyysrsen7mgjbdqm8bteyg?temporary=true"
2024-08-03 13:33:16.288 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-08-03 13:33:16.315 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-08-03 13:33:16.320 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-08-03 13:33:16.329 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-08-03 13:33:16.361 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-08-03 13:33:16.434 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-qmqK56-KR31LfGdwcnxVyA
2024-08-03 13:33:16.435 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-08-03 13:33:16.439 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-08-03 13:33:17.565 +07:00 [DBG] Connection id "0HN5JGOKGVAPB" received FIN.
2024-08-03 13:33:17.571 +07:00 [DBG] Connection id "0HN5JGOKGVAPB" accepted.
2024-08-03 13:33:17.576 +07:00 [DBG] Connection id "0HN5JGOKGVAPB" started.
2024-08-03 13:33:17.593 +07:00 [DBG] Connection id "0HN5JGOKGVAPB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 13:33:17.597 +07:00 [DBG] Connection id "0HN5JGOKGVAPB" disconnecting.
2024-08-03 13:33:17.601 +07:00 [DBG] Connection id "0HN5JGOKGVAPB" stopped.
2024-08-03 13:33:19.033 +07:00 [DBG] Connection id "0HN5JGOKGVAPC" accepted.
2024-08-03 13:33:19.034 +07:00 [DBG] Connection id "0HN5JGOKGVAPD" accepted.
2024-08-03 13:33:19.034 +07:00 [DBG] Connection id "0HN5JGOKGVAPC" started.
2024-08-03 13:33:19.036 +07:00 [DBG] Connection id "0HN5JGOKGVAPD" started.
2024-08-03 13:33:19.153 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2024-08-03 13:33:19.313 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-03 13:33:19.379 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-03 13:33:19.382 +07:00 [DBG] Request did not match any endpoints
2024-08-03 13:33:19.550 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-03 13:33:19.553 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-03 13:33:19.600 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-03 13:33:19.600 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-03 13:33:19.601 +07:00 [DBG] Connection id "0HN5JGOKGVAPD" completed keep alive response.
2024-08-03 13:33:19.604 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 459.4995ms
2024-08-03 13:33:19.803 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - null null
2024-08-03 13:33:19.830 +07:00 [DBG] Connection id "0HN5JGOKGVAPD" completed keep alive response.
2024-08-03 13:33:19.832 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 29.0904ms
2024-08-03 13:33:19.834 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_vs/browserLink - null null
2024-08-03 13:33:19.975 +07:00 [DBG] Connection id "0HN5JGOKGVAPC" completed keep alive response.
2024-08-03 13:33:19.983 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_vs/browserLink - 200 null text/javascript; charset=UTF-8 149.7502ms
2024-08-03 13:33:20.731 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2024-08-03 13:33:20.750 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-03 13:33:20.751 +07:00 [DBG] Request did not match any endpoints
2024-08-03 13:33:21.317 +07:00 [DBG] Connection id "0HN5JGOKGVAPC" completed keep alive response.
2024-08-03 13:33:21.337 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 605.6631ms
2024-08-03 13:33:43.291 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/Users/upload-avatar - multipart/form-data; boundary=----WebKitFormBoundarycGPJkgyzPRqCoO3V 4216
2024-08-03 13:33:43.298 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/upload-avatar'
2024-08-03 13:33:43.301 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)' with route pattern 'api/Users/upload-avatar' is valid for the request path '/api/Users/upload-avatar'
2024-08-03 13:33:43.302 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 13:33:43.304 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-03 13:33:43.305 +07:00 [WRN] Failed to determine the https port for redirect.
2024-08-03 13:33:43.306 +07:00 [INF] Start request......!
2024-08-03 13:33:43.375 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-03 13:33:43.377 +07:00 [DBG] The request has an origin header: 'http://localhost:5090'.
2024-08-03 13:33:43.377 +07:00 [INF] CORS policy execution failed.
2024-08-03 13:33:43.377 +07:00 [INF] Request origin http://localhost:5090 does not have permission to access the resource.
2024-08-03 13:33:43.381 +07:00 [INF] Executing endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 13:33:43.405 +07:00 [INF] Route matched with {action = "UpdateAvatar", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAvatar(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile], System.Guid) on controller capygram.Auth.Controllers.UsersController (capygram.Auth).
2024-08-03 13:33:43.407 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-03 13:33:43.407 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-03 13:33:43.407 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-03 13:33:43.408 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-03 13:33:43.408 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-03 13:33:43.410 +07:00 [DBG] Executing controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 13:33:43.421 +07:00 [DBG] Executed controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 13:33:43.433 +07:00 [DBG] Connection id "0HN5JGOKGVAPC", Request id "0HN5JGOKGVAPC:00000003": started reading request body.
2024-08-03 13:33:43.434 +07:00 [DBG] Connection id "0HN5JGOKGVAPC", Request id "0HN5JGOKGVAPC:00000003": done reading request body.
2024-08-03 13:33:43.447 +07:00 [DBG] Attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-08-03 13:33:43.450 +07:00 [DBG] Attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name '' in request data ...
2024-08-03 13:33:43.452 +07:00 [DBG] Done attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 13:33:43.453 +07:00 [DBG] Done attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 13:33:43.453 +07:00 [DBG] Attempting to validate the bound parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-08-03 13:33:43.463 +07:00 [DBG] Done attempting to validate the bound parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 13:33:43.465 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Guid' ...
2024-08-03 13:33:43.465 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Guid' using the name 'userId' in request data ...
2024-08-03 13:33:43.466 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Guid'.
2024-08-03 13:33:43.467 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Guid'.
2024-08-03 13:33:43.467 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Guid' ...
2024-08-03 13:33:43.467 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Guid'.
2024-08-03 13:33:43.545 +07:00 [DBG] Declare exchange: name: image-upload-notification, type: fanout, durable
2024-08-03 13:33:43.545 +07:00 [DBG] Declare exchange: name: inotification, type: fanout, durable
2024-08-03 13:33:43.548 +07:00 [DBG] Bind exchange: source: image-upload-notification, destination: inotification
2024-08-03 13:33:43.664 +07:00 [DBG] SEND "rabbitmq://localhost/capygram/image-upload-notification" "8c150000-1625-902e-384d-08dcb3863887" capygram.Common.MessageBus.Events.ImageUploadNotification
2024-08-03 13:33:43.673 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-03 13:33:43.674 +07:00 [DBG] No information found on request to perform content negotiation.
2024-08-03 13:33:43.675 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-03 13:33:43.675 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-03 13:33:43.676 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-03 13:33:43.676 +07:00 [INF] Executing OkObjectResult, writing value of type 'capygram.Common.Shared.Result`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-03 13:33:43.684 +07:00 [INF] Executed action capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth) in 272.9524ms
2024-08-03 13:33:43.684 +07:00 [INF] Executed endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 13:33:43.686 +07:00 [DBG] Connection id "0HN5JGOKGVAPC" completed keep alive response.
2024-08-03 13:33:43.686 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/Users/upload-avatar - 200 null application/json; charset=utf-8 395.224ms
2024-08-03 13:33:45.897 +07:00 [DBG] Declare exchange: name: fault`1, type: fanout, durable
2024-08-03 13:33:45.898 +07:00 [DBG] Declare exchange: name: fault, type: fanout, durable
2024-08-03 13:33:45.900 +07:00 [DBG] Bind exchange: source: fault`1, destination: fault`1
2024-08-03 13:33:45.901 +07:00 [DBG] Bind exchange: source: fault`1, destination: fault
2024-08-03 13:33:45.941 +07:00 [DBG] SEND "rabbitmq://localhost/capygram/fault`1" "8c150000-1625-902e-1ffc-08dcb38639f1" MassTransit.Fault<capygram.Common.MessageBus.Events.ImageUploadedNotification>
2024-08-03 13:33:45.946 +07:00 [ERR] R-FAULT "rabbitmq://localhost/capygram/user-media-queue" "bc700000-1625-902e-e2f1-08dcb38639ae" capygram.Common.MessageBus.Events.ImageUploadedNotification capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer("00:00:00.1673481")
capygram.Common.Exceptions.NotFoundException: User Is Not Found
   at capygram.Auth.UseCases.Events.UserMediaNotificationConsumerHandler.Handle(ImageUploadedNotification request, CancellationToken cancellationToken) in C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth\UseCases\Events\UserMediaNotificationConsumerHandler.cs:line 25
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at capygram.Common.Abstraction.Consumer`1.Consume(ConsumeContext`1 context) in C:\coode\Hit_Product\capygram-be\src\Services\capygram.Common\Abstraction\Consumer.cs:line 17
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.Middleware.ConsumerMessageFilter`2.MassTransit.IFilter<MassTransit.ConsumeContext<TMessage>>.Send(ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/Middleware/ConsumerMessageFilter.cs:line 48
2024-08-03 13:33:45.970 +07:00 [DBG] Declare queue: name: user-media-queue_error, durable, consumer-count: 0 message-count: 0
2024-08-03 13:33:45.988 +07:00 [DBG] Declare exchange: name: user-media-queue_error, type: fanout, durable
2024-08-03 13:33:45.992 +07:00 [DBG] Bind queue: source: user-media-queue_error, destination: user-media-queue_error
2024-08-03 13:34:26.488 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/api/Users/get-user-by-userID?UserID=c22e3532-3a56-4677-84fb-c1590260b6a7 - null null
2024-08-03 13:34:26.491 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/get-user-by-userID'
2024-08-03 13:34:26.492 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.GetUserByUserID (capygram.Auth)' with route pattern 'api/Users/get-user-by-userID' is valid for the request path '/api/Users/get-user-by-userID'
2024-08-03 13:34:26.492 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.GetUserByUserID (capygram.Auth)'
2024-08-03 13:34:26.493 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-03 13:34:26.493 +07:00 [INF] Start request......!
2024-08-03 13:34:26.498 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-03 13:34:26.501 +07:00 [DBG] Policy authentication schemes  did not succeed
2024-08-03 13:34:26.503 +07:00 [INF] Authorization failed. Fail() was explicitly called.
2024-08-03 13:38:05.598 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-03 13:38:06.095 +07:00 [DBG] Hosting starting
2024-08-03 13:38:06.131 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-03 13:38:06.349 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-08-03 13:38:06.463 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-08-03 13:38:06.473 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-08-03 13:38:06.474 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-08-03 13:38:06.475 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-08-03 13:38:06.479 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-08-03 13:38:06.483 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-08-03 13:38:06.484 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-08-03 13:38:06.484 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-08-03 13:38:06.490 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-08-03 13:38:06.493 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 13:38:06.496 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-03 13:38:06.498 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 13:38:06.501 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-03 13:38:06.502 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-03 13:38:06.504 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-08-03 13:38:06.505 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-08-03 13:38:06.506 +07:00 [DBG] Starting bus instances: IBus
2024-08-03 13:38:06.509 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-08-03 13:38:06.559 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-08-03 13:38:06.688 +07:00 [INF] Now listening on: http://[::]:5090
2024-08-03 13:38:06.688 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-08-03 13:38:06.688 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-03 13:38:06.688 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-03 13:38:06.689 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-03 13:38:06.689 +07:00 [INF] Hosting environment: Development
2024-08-03 13:38:06.689 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-08-03 13:38:06.689 +07:00 [DBG] Hosting started
2024-08-03 13:38:06.734 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 53864)
2024-08-03 13:38:06.771 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_4o1yyyysrsen7iyubdqm8bsib8?temporary=true"
2024-08-03 13:38:06.786 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-08-03 13:38:06.810 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-08-03 13:38:06.814 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-08-03 13:38:06.818 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-08-03 13:38:06.841 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-08-03 13:38:06.882 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-_rJs-umavZf_xfBKOpmqyw
2024-08-03 13:38:06.883 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-08-03 13:38:06.885 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-08-03 13:38:07.866 +07:00 [DBG] Connection id "0HN5JGRB1G6JO" received FIN.
2024-08-03 13:38:07.872 +07:00 [DBG] Connection id "0HN5JGRB1G6JO" accepted.
2024-08-03 13:38:07.874 +07:00 [DBG] Connection id "0HN5JGRB1G6JO" started.
2024-08-03 13:38:07.886 +07:00 [DBG] Connection id "0HN5JGRB1G6JO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 13:38:07.891 +07:00 [DBG] Connection id "0HN5JGRB1G6JO" disconnecting.
2024-08-03 13:38:07.898 +07:00 [DBG] Connection id "0HN5JGRB1G6JO" stopped.
2024-08-03 13:38:08.876 +07:00 [DBG] Connection id "0HN5JGRB1G6JP" accepted.
2024-08-03 13:38:08.877 +07:00 [DBG] Connection id "0HN5JGRB1G6JP" started.
2024-08-03 13:38:08.879 +07:00 [DBG] Connection id "0HN5JGRB1G6JQ" accepted.
2024-08-03 13:38:08.888 +07:00 [DBG] Connection id "0HN5JGRB1G6JQ" started.
2024-08-03 13:38:09.276 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2024-08-03 13:38:09.462 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-03 13:38:09.523 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-03 13:38:09.524 +07:00 [DBG] Request did not match any endpoints
2024-08-03 13:38:09.703 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-03 13:38:09.720 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-03 13:38:09.790 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-03 13:38:09.791 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-03 13:38:09.793 +07:00 [DBG] Connection id "0HN5JGRB1G6JQ" completed keep alive response.
2024-08-03 13:38:09.796 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 527.5594ms
2024-08-03 13:38:10.757 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - null null
2024-08-03 13:38:10.761 +07:00 [DBG] Connection id "0HN5JGRB1G6JQ" completed keep alive response.
2024-08-03 13:38:10.762 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 4.2248ms
2024-08-03 13:38:10.924 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_vs/browserLink - null null
2024-08-03 13:38:10.967 +07:00 [DBG] Connection id "0HN5JGRB1G6JP" completed keep alive response.
2024-08-03 13:38:10.968 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.784ms
2024-08-03 13:38:11.554 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2024-08-03 13:38:11.563 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-03 13:38:11.563 +07:00 [DBG] Request did not match any endpoints
2024-08-03 13:38:11.873 +07:00 [DBG] Connection id "0HN5JGRB1G6JP" completed keep alive response.
2024-08-03 13:38:11.877 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 322.0867ms
2024-08-03 13:38:46.531 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/Users/upload-avatar - multipart/form-data; boundary=----WebKitFormBoundarytw6FjmwtSz9zWXMk 20867
2024-08-03 13:38:46.536 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/upload-avatar'
2024-08-03 13:38:46.538 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)' with route pattern 'api/Users/upload-avatar' is valid for the request path '/api/Users/upload-avatar'
2024-08-03 13:38:46.539 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 13:38:46.542 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-03 13:38:46.543 +07:00 [WRN] Failed to determine the https port for redirect.
2024-08-03 13:38:46.545 +07:00 [INF] Start request......!
2024-08-03 13:38:46.603 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-03 13:38:46.605 +07:00 [DBG] The request has an origin header: 'http://localhost:5090'.
2024-08-03 13:38:46.605 +07:00 [INF] CORS policy execution failed.
2024-08-03 13:38:46.605 +07:00 [INF] Request origin http://localhost:5090 does not have permission to access the resource.
2024-08-03 13:38:46.608 +07:00 [INF] Executing endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 13:38:46.631 +07:00 [INF] Route matched with {action = "UpdateAvatar", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAvatar(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile], System.Guid) on controller capygram.Auth.Controllers.UsersController (capygram.Auth).
2024-08-03 13:38:46.633 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-03 13:38:46.633 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-03 13:38:46.633 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-03 13:38:46.634 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-03 13:38:46.634 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-03 13:38:46.636 +07:00 [DBG] Executing controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 13:38:46.644 +07:00 [DBG] Executed controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 13:38:46.651 +07:00 [DBG] Connection id "0HN5JGRB1G6JP", Request id "0HN5JGRB1G6JP:00000003": started reading request body.
2024-08-03 13:38:46.651 +07:00 [DBG] Connection id "0HN5JGRB1G6JP", Request id "0HN5JGRB1G6JP:00000003": done reading request body.
2024-08-03 13:38:46.662 +07:00 [DBG] Attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-08-03 13:38:46.665 +07:00 [DBG] Attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name '' in request data ...
2024-08-03 13:38:46.667 +07:00 [DBG] Done attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 13:38:46.668 +07:00 [DBG] Done attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 13:38:46.668 +07:00 [DBG] Attempting to validate the bound parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-08-03 13:38:46.677 +07:00 [DBG] Done attempting to validate the bound parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 13:38:46.679 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Guid' ...
2024-08-03 13:38:46.679 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Guid' using the name 'userId' in request data ...
2024-08-03 13:38:46.680 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Guid'.
2024-08-03 13:38:46.680 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Guid'.
2024-08-03 13:38:46.680 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Guid' ...
2024-08-03 13:38:46.681 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Guid'.
2024-08-03 13:38:46.760 +07:00 [DBG] Declare exchange: name: image-upload-notification, type: fanout, durable
2024-08-03 13:38:46.761 +07:00 [DBG] Declare exchange: name: inotification, type: fanout, durable
2024-08-03 13:38:46.764 +07:00 [DBG] Bind exchange: source: image-upload-notification, destination: inotification
2024-08-03 13:38:46.916 +07:00 [DBG] SEND "rabbitmq://localhost/capygram/image-upload-notification" "d4240000-1625-902e-72ae-08dcb386ed41" capygram.Common.MessageBus.Events.ImageUploadNotification
2024-08-03 13:38:46.924 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-03 13:38:46.926 +07:00 [DBG] No information found on request to perform content negotiation.
2024-08-03 13:38:46.926 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-03 13:38:46.927 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-03 13:38:46.928 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-03 13:38:46.928 +07:00 [INF] Executing OkObjectResult, writing value of type 'capygram.Common.Shared.Result`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-03 13:38:46.935 +07:00 [INF] Executed action capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth) in 299.0448ms
2024-08-03 13:38:46.936 +07:00 [INF] Executed endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 13:38:46.938 +07:00 [DBG] Connection id "0HN5JGRB1G6JP" completed keep alive response.
2024-08-03 13:38:46.939 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/Users/upload-avatar - 200 null application/json; charset=utf-8 407.6564ms
2024-08-03 13:38:49.265 +07:00 [DBG] Declare exchange: name: fault`1, type: fanout, durable
2024-08-03 13:38:49.265 +07:00 [DBG] Declare exchange: name: fault, type: fanout, durable
2024-08-03 13:38:49.268 +07:00 [DBG] Bind exchange: source: fault`1, destination: fault`1
2024-08-03 13:38:49.268 +07:00 [DBG] Bind exchange: source: fault`1, destination: fault
2024-08-03 13:38:49.307 +07:00 [DBG] SEND "rabbitmq://localhost/capygram/fault`1" "d4240000-1625-902e-8c05-08dcb386eec2" MassTransit.Fault<capygram.Common.MessageBus.Events.ImageUploadedNotification>
2024-08-03 13:38:49.314 +07:00 [ERR] R-FAULT "rabbitmq://localhost/capygram/user-media-queue" "dc6c0000-1625-902e-ff90-08dcb386ee92" capygram.Common.MessageBus.Events.ImageUploadedNotification capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer("00:00:00.1192296")
capygram.Common.Exceptions.NotFoundException: User Is Not Found
   at capygram.Auth.UseCases.Events.UserMediaNotificationConsumerHandler.Handle(ImageUploadedNotification request, CancellationToken cancellationToken) in C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth\UseCases\Events\UserMediaNotificationConsumerHandler.cs:line 25
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at capygram.Common.Abstraction.Consumer`1.Consume(ConsumeContext`1 context) in C:\coode\Hit_Product\capygram-be\src\Services\capygram.Common\Abstraction\Consumer.cs:line 17
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.Middleware.ConsumerMessageFilter`2.MassTransit.IFilter<MassTransit.ConsumeContext<TMessage>>.Send(ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/Middleware/ConsumerMessageFilter.cs:line 48
2024-08-03 13:38:49.329 +07:00 [DBG] Declare queue: name: user-media-queue_error, durable, consumer-count: 0 message-count: 1
2024-08-03 13:38:49.340 +07:00 [DBG] Declare exchange: name: user-media-queue_error, type: fanout, durable
2024-08-03 13:38:49.342 +07:00 [DBG] Bind queue: source: user-media-queue_error, destination: user-media-queue_error
2024-08-03 13:43:13.284 +07:00 [DBG] Connection id "0HN5JGRB1G6JQ" received FIN.
2024-08-03 13:43:13.287 +07:00 [DBG] Connection id "0HN5JGRB1G6JQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 13:43:13.288 +07:00 [DBG] Connection id "0HN5JGRB1G6JQ" disconnecting.
2024-08-03 13:43:13.304 +07:00 [DBG] Connection id "0HN5JGRB1G6JQ" stopped.
2024-08-03 13:44:40.284 +07:00 [DBG] Connection id "0HN5JGRB1G6JP" received FIN.
2024-08-03 13:44:40.284 +07:00 [DBG] Connection id "0HN5JGRB1G6JP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 13:44:40.285 +07:00 [DBG] Connection id "0HN5JGRB1G6JP" disconnecting.
2024-08-03 13:44:40.285 +07:00 [DBG] Connection id "0HN5JGRB1G6JP" stopped.
2024-08-03 13:46:02.952 +07:00 [DBG] Connection id "0HN5JGRB1G6JR" accepted.
2024-08-03 13:46:02.961 +07:00 [DBG] Connection id "0HN5JGRB1G6JR" started.
2024-08-03 13:46:02.964 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/Users/upload-avatar - multipart/form-data; boundary=----WebKitFormBoundaryhgKZVvZcmel8XUrA 20867
2024-08-03 13:46:02.966 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/upload-avatar'
2024-08-03 13:46:02.966 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)' with route pattern 'api/Users/upload-avatar' is valid for the request path '/api/Users/upload-avatar'
2024-08-03 13:46:02.967 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 13:46:02.967 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-03 13:46:02.969 +07:00 [INF] Start request......!
2024-08-03 13:46:02.971 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-03 13:46:02.972 +07:00 [DBG] The request has an origin header: 'http://localhost:5090'.
2024-08-03 13:46:02.972 +07:00 [INF] CORS policy execution failed.
2024-08-03 13:46:02.972 +07:00 [INF] Request origin http://localhost:5090 does not have permission to access the resource.
2024-08-03 13:46:02.972 +07:00 [INF] Executing endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 13:46:02.972 +07:00 [INF] Route matched with {action = "UpdateAvatar", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAvatar(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile], System.Guid) on controller capygram.Auth.Controllers.UsersController (capygram.Auth).
2024-08-03 13:46:02.973 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-03 13:46:02.973 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-03 13:46:02.973 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-03 13:46:02.973 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-03 13:46:02.973 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-03 13:46:02.974 +07:00 [DBG] Executing controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 13:46:02.978 +07:00 [DBG] Executed controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 13:46:02.979 +07:00 [DBG] Connection id "0HN5JGRB1G6JR", Request id "0HN5JGRB1G6JR:00000001": started reading request body.
2024-08-03 13:46:02.979 +07:00 [DBG] Connection id "0HN5JGRB1G6JR", Request id "0HN5JGRB1G6JR:00000001": done reading request body.
2024-08-03 13:46:02.980 +07:00 [DBG] Attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-08-03 13:46:02.980 +07:00 [DBG] Attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name '' in request data ...
2024-08-03 13:46:02.980 +07:00 [DBG] Done attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 13:46:02.981 +07:00 [DBG] Done attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 13:46:02.981 +07:00 [DBG] Attempting to validate the bound parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-08-03 13:46:02.981 +07:00 [DBG] Done attempting to validate the bound parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 13:46:02.982 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Guid' ...
2024-08-03 13:46:02.982 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Guid' using the name 'userId' in request data ...
2024-08-03 13:46:02.982 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Guid'.
2024-08-03 13:46:02.982 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Guid'.
2024-08-03 13:46:02.982 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Guid' ...
2024-08-03 13:46:02.982 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Guid'.
2024-08-03 13:46:02.991 +07:00 [DBG] SEND "rabbitmq://localhost/capygram/image-upload-notification" "d4240000-1625-902e-4952-08dcb387f149" capygram.Common.MessageBus.Events.ImageUploadNotification
2024-08-03 13:46:02.992 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-03 13:46:02.992 +07:00 [DBG] No information found on request to perform content negotiation.
2024-08-03 13:46:02.993 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-03 13:46:02.993 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-03 13:46:02.993 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-03 13:46:02.993 +07:00 [INF] Executing OkObjectResult, writing value of type 'capygram.Common.Shared.Result`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-03 13:46:02.994 +07:00 [INF] Executed action capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth) in 20.1131ms
2024-08-03 13:46:02.994 +07:00 [INF] Executed endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 13:46:02.994 +07:00 [DBG] Connection id "0HN5JGRB1G6JR" completed keep alive response.
2024-08-03 13:46:02.995 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/Users/upload-avatar - 200 null application/json; charset=utf-8 31.9761ms
2024-08-03 13:46:04.814 +07:00 [DBG] SEND "rabbitmq://localhost/capygram/fault`1" "d4240000-1625-902e-5e10-08dcb387f260" MassTransit.Fault<capygram.Common.MessageBus.Events.ImageUploadedNotification>
2024-08-03 13:46:04.815 +07:00 [ERR] R-FAULT "rabbitmq://localhost/capygram/user-media-queue" "dc6c0000-1625-902e-8611-08dcb387f258" capygram.Common.MessageBus.Events.ImageUploadedNotification capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer("00:00:00.0429492")
capygram.Common.Exceptions.NotFoundException: User Is Not Found
   at capygram.Auth.UseCases.Events.UserMediaNotificationConsumerHandler.Handle(ImageUploadedNotification request, CancellationToken cancellationToken) in C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth\UseCases\Events\UserMediaNotificationConsumerHandler.cs:line 25
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at capygram.Common.Abstraction.Consumer`1.Consume(ConsumeContext`1 context) in C:\coode\Hit_Product\capygram-be\src\Services\capygram.Common\Abstraction\Consumer.cs:line 17
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.Middleware.ConsumerMessageFilter`2.MassTransit.IFilter<MassTransit.ConsumeContext<TMessage>>.Send(ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/Middleware/ConsumerMessageFilter.cs:line 48
2024-08-03 13:46:44.114 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/Users/upload-avatar - multipart/form-data; boundary=----WebKitFormBoundary6X8UVsAMimTbu5SA 20867
2024-08-03 13:46:44.114 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/upload-avatar'
2024-08-03 13:46:44.115 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)' with route pattern 'api/Users/upload-avatar' is valid for the request path '/api/Users/upload-avatar'
2024-08-03 13:46:44.115 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 13:46:44.115 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-03 13:46:44.116 +07:00 [INF] Start request......!
2024-08-03 13:46:44.117 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-03 13:46:44.118 +07:00 [DBG] The request has an origin header: 'http://localhost:5090'.
2024-08-03 13:46:44.118 +07:00 [INF] CORS policy execution failed.
2024-08-03 13:46:44.118 +07:00 [INF] Request origin http://localhost:5090 does not have permission to access the resource.
2024-08-03 13:46:44.118 +07:00 [INF] Executing endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 13:46:44.118 +07:00 [INF] Route matched with {action = "UpdateAvatar", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAvatar(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile], System.Guid) on controller capygram.Auth.Controllers.UsersController (capygram.Auth).
2024-08-03 13:46:44.119 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-03 13:46:44.119 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-03 13:46:44.119 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-03 13:46:44.119 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-03 13:46:44.120 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-03 13:46:44.120 +07:00 [DBG] Executing controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 13:46:44.124 +07:00 [DBG] Executed controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 13:46:44.125 +07:00 [DBG] Connection id "0HN5JGRB1G6JR", Request id "0HN5JGRB1G6JR:00000002": started reading request body.
2024-08-03 13:46:44.125 +07:00 [DBG] Connection id "0HN5JGRB1G6JR", Request id "0HN5JGRB1G6JR:00000002": done reading request body.
2024-08-03 13:46:44.126 +07:00 [DBG] Attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-08-03 13:46:44.126 +07:00 [DBG] Attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name '' in request data ...
2024-08-03 13:46:44.126 +07:00 [DBG] Done attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 13:46:44.126 +07:00 [DBG] Done attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 13:46:44.127 +07:00 [DBG] Attempting to validate the bound parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-08-03 13:46:44.127 +07:00 [DBG] Done attempting to validate the bound parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 13:46:44.127 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Guid' ...
2024-08-03 13:46:44.127 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Guid' using the name 'userId' in request data ...
2024-08-03 13:46:44.127 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Guid'.
2024-08-03 13:46:44.127 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Guid'.
2024-08-03 13:46:44.128 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Guid' ...
2024-08-03 13:46:44.128 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Guid'.
2024-08-03 13:46:44.135 +07:00 [DBG] SEND "rabbitmq://localhost/capygram/image-upload-notification" "d4240000-1625-902e-7cb7-08dcb38809cf" capygram.Common.MessageBus.Events.ImageUploadNotification
2024-08-03 13:46:44.136 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-03 13:46:44.136 +07:00 [DBG] No information found on request to perform content negotiation.
2024-08-03 13:46:44.136 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-03 13:46:44.136 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-03 13:46:44.136 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-03 13:46:44.136 +07:00 [INF] Executing OkObjectResult, writing value of type 'capygram.Common.Shared.Result`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-03 13:46:44.137 +07:00 [INF] Executed action capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth) in 17.0958ms
2024-08-03 13:46:44.137 +07:00 [INF] Executed endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 13:46:44.137 +07:00 [DBG] Connection id "0HN5JGRB1G6JR" completed keep alive response.
2024-08-03 13:46:44.138 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/Users/upload-avatar - 200 null application/json; charset=utf-8 23.7243ms
2024-08-03 13:47:58.083 +07:00 [DBG] SEND "rabbitmq://localhost/capygram/fault`1" "d4240000-1625-902e-e42e-08dcb38834e9" MassTransit.Fault<capygram.Common.MessageBus.Events.ImageUploadedNotification>
2024-08-03 13:47:58.084 +07:00 [ERR] R-FAULT "rabbitmq://localhost/capygram/user-media-queue" "dc6c0000-1625-902e-ccb3-08dcb3880a24" capygram.Common.MessageBus.Events.ImageUploadedNotification capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer("00:01:11.7521520")
capygram.Common.Exceptions.NotFoundException: User Is Not Found
   at capygram.Auth.UseCases.Events.UserMediaNotificationConsumerHandler.Handle(ImageUploadedNotification request, CancellationToken cancellationToken) in C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth\UseCases\Events\UserMediaNotificationConsumerHandler.cs:line 25
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at capygram.Common.Abstraction.Consumer`1.Consume(ConsumeContext`1 context) in C:\coode\Hit_Product\capygram-be\src\Services\capygram.Common\Abstraction\Consumer.cs:line 17
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.Middleware.ConsumerMessageFilter`2.MassTransit.IFilter<MassTransit.ConsumeContext<TMessage>>.Send(ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/Middleware/ConsumerMessageFilter.cs:line 48
2024-08-03 13:54:32.896 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-03 13:54:33.595 +07:00 [DBG] Hosting starting
2024-08-03 13:54:33.625 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-03 13:54:34.502 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-08-03 13:54:34.662 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-08-03 13:54:34.673 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-08-03 13:54:34.674 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-08-03 13:54:34.675 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-08-03 13:54:34.680 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-08-03 13:54:34.687 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-08-03 13:54:34.688 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-08-03 13:54:34.688 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-08-03 13:54:34.697 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-08-03 13:54:34.702 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 13:54:34.704 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-03 13:54:34.707 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 13:54:34.710 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-03 13:54:34.711 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-03 13:54:34.714 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-08-03 13:54:34.715 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-08-03 13:54:34.717 +07:00 [DBG] Starting bus instances: IBus
2024-08-03 13:54:34.722 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-08-03 13:54:34.790 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-08-03 13:54:34.948 +07:00 [INF] Now listening on: http://[::]:5090
2024-08-03 13:54:34.949 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-08-03 13:54:34.949 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-03 13:54:34.949 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-03 13:54:34.950 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-03 13:54:34.950 +07:00 [INF] Hosting environment: Development
2024-08-03 13:54:34.950 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-08-03 13:54:34.950 +07:00 [DBG] Hosting started
2024-08-03 13:54:35.001 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 54477)
2024-08-03 13:54:35.063 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_hbpoyyysrsenhatrbdqm8njbf7?temporary=true"
2024-08-03 13:54:35.073 +07:00 [DBG] Connection id "0HN5JH4H87MOE" received FIN.
2024-08-03 13:54:35.081 +07:00 [DBG] Connection id "0HN5JH4H87MOE" accepted.
2024-08-03 13:54:35.085 +07:00 [DBG] Connection id "0HN5JH4H87MOE" started.
2024-08-03 13:54:35.089 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-08-03 13:54:35.101 +07:00 [DBG] Connection id "0HN5JH4H87MOE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 13:54:35.108 +07:00 [DBG] Connection id "0HN5JH4H87MOE" disconnecting.
2024-08-03 13:54:35.112 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-08-03 13:54:35.116 +07:00 [DBG] Connection id "0HN5JH4H87MOE" stopped.
2024-08-03 13:54:35.120 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-08-03 13:54:35.135 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-08-03 13:54:35.165 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-08-03 13:54:35.253 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag--o-GWjB4YfjgbZmyHWV65A
2024-08-03 13:54:35.254 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-08-03 13:54:35.259 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-08-03 13:54:36.208 +07:00 [DBG] Connection id "0HN5JH4H87MOF" accepted.
2024-08-03 13:54:36.223 +07:00 [DBG] Connection id "0HN5JH4H87MOF" started.
2024-08-03 13:54:36.240 +07:00 [DBG] Connection id "0HN5JH4H87MOG" accepted.
2024-08-03 13:54:36.259 +07:00 [DBG] Connection id "0HN5JH4H87MOG" started.
2024-08-03 13:54:36.906 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2024-08-03 13:54:37.090 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-03 13:54:37.146 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-03 13:54:37.160 +07:00 [DBG] Request did not match any endpoints
2024-08-03 13:54:37.287 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-03 13:54:37.298 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-03 13:54:37.453 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-03 13:54:37.463 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-03 13:54:37.470 +07:00 [DBG] Connection id "0HN5JH4H87MOG" completed keep alive response.
2024-08-03 13:54:37.480 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 580.8643ms
2024-08-03 13:54:37.882 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - null null
2024-08-03 13:54:37.888 +07:00 [DBG] Connection id "0HN5JH4H87MOG" completed keep alive response.
2024-08-03 13:54:37.891 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.1271ms
2024-08-03 13:54:37.948 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_vs/browserLink - null null
2024-08-03 13:54:38.067 +07:00 [DBG] Connection id "0HN5JH4H87MOG" completed keep alive response.
2024-08-03 13:54:38.067 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_vs/browserLink - 200 null text/javascript; charset=UTF-8 118.815ms
2024-08-03 13:54:38.808 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2024-08-03 13:54:38.810 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-03 13:54:38.811 +07:00 [DBG] Request did not match any endpoints
2024-08-03 13:54:38.965 +07:00 [DBG] Connection id "0HN5JH4H87MOG" completed keep alive response.
2024-08-03 13:54:38.966 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 158.1232ms
2024-08-03 13:55:40.278 +07:00 [DBG] Connection id "0HN5JH4H87MOF" received FIN.
2024-08-03 13:55:40.278 +07:00 [DBG] Connection id "0HN5JH4H87MOF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 13:55:40.279 +07:00 [DBG] Connection id "0HN5JH4H87MOF" disconnecting.
2024-08-03 13:55:40.286 +07:00 [DBG] Connection id "0HN5JH4H87MOF" stopped.
2024-08-03 13:56:05.649 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/Users/register - application/json 198
2024-08-03 13:56:05.653 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/register'
2024-08-03 13:56:05.656 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.Register (capygram.Auth)' with route pattern 'api/Users/register' is valid for the request path '/api/Users/register'
2024-08-03 13:56:05.657 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.Register (capygram.Auth)'
2024-08-03 13:56:05.659 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-03 13:56:05.660 +07:00 [WRN] Failed to determine the https port for redirect.
2024-08-03 13:56:05.662 +07:00 [INF] Start request......!
2024-08-03 13:56:05.720 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-03 13:56:05.721 +07:00 [DBG] The request has an origin header: 'http://localhost:5090'.
2024-08-03 13:56:05.722 +07:00 [INF] CORS policy execution failed.
2024-08-03 13:56:05.722 +07:00 [INF] Request origin http://localhost:5090 does not have permission to access the resource.
2024-08-03 13:56:05.724 +07:00 [INF] Executing endpoint 'capygram.Auth.Controllers.UsersController.Register (capygram.Auth)'
2024-08-03 13:56:05.742 +07:00 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(capygram.Common.DTOs.User.UserRegisterDto) on controller capygram.Auth.Controllers.UsersController (capygram.Auth).
2024-08-03 13:56:05.744 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-03 13:56:05.744 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-03 13:56:05.745 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-03 13:56:05.745 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-03 13:56:05.745 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-03 13:56:05.746 +07:00 [DBG] Executing controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 13:56:05.753 +07:00 [DBG] Executed controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 13:56:05.757 +07:00 [DBG] Attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto' ...
2024-08-03 13:56:05.759 +07:00 [DBG] Attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto' using the name '' in request data ...
2024-08-03 13:56:05.760 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-08-03 13:56:05.765 +07:00 [DBG] Connection id "0HN5JH4H87MOG", Request id "0HN5JH4H87MOG:00000005": started reading request body.
2024-08-03 13:56:05.766 +07:00 [DBG] Connection id "0HN5JH4H87MOG", Request id "0HN5JH4H87MOG:00000005": done reading request body.
2024-08-03 13:56:05.771 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'capygram.Common.DTOs.User.UserRegisterDto'
2024-08-03 13:56:05.772 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto'.
2024-08-03 13:56:05.772 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto'.
2024-08-03 13:56:05.772 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto' ...
2024-08-03 13:56:05.779 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto'.
2024-08-03 13:56:05.912 +07:00 [DBG] Declare exchange: name: email-notification, type: fanout, durable
2024-08-03 13:56:05.912 +07:00 [DBG] Declare exchange: name: inotification, type: fanout, durable
2024-08-03 13:56:05.916 +07:00 [DBG] Bind exchange: source: email-notification, destination: inotification
2024-08-03 13:56:06.023 +07:00 [DBG] SEND "rabbitmq://localhost/capygram/email-notification" "e05b0000-1625-902e-3b90-08dcb38958a4" capygram.Common.MessageBus.Events.EmailNotification
2024-08-03 13:56:06.030 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-03 13:56:06.032 +07:00 [DBG] No information found on request to perform content negotiation.
2024-08-03 13:56:06.032 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-03 13:56:06.032 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-03 13:56:06.033 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-03 13:56:06.033 +07:00 [INF] Executing OkObjectResult, writing value of type 'capygram.Common.Shared.Result`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-03 13:56:06.041 +07:00 [INF] Executed action capygram.Auth.Controllers.UsersController.Register (capygram.Auth) in 293.167ms
2024-08-03 13:56:06.042 +07:00 [INF] Executed endpoint 'capygram.Auth.Controllers.UsersController.Register (capygram.Auth)'
2024-08-03 13:56:06.044 +07:00 [DBG] Connection id "0HN5JH4H87MOG" completed keep alive response.
2024-08-03 13:56:06.044 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/Users/register - 200 null application/json; charset=utf-8 394.7562ms
2024-08-03 13:58:04.188 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/Users/active-account - application/json 198
2024-08-03 13:58:04.193 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/active-account'
2024-08-03 13:58:04.194 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.ActiveAccount (capygram.Auth)' with route pattern 'api/Users/active-account' is valid for the request path '/api/Users/active-account'
2024-08-03 13:58:04.194 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.ActiveAccount (capygram.Auth)'
2024-08-03 13:58:04.194 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-03 13:58:04.195 +07:00 [INF] Start request......!
2024-08-03 13:58:04.197 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-03 13:58:04.200 +07:00 [DBG] The request has an origin header: 'http://localhost:5090'.
2024-08-03 13:58:04.200 +07:00 [INF] CORS policy execution failed.
2024-08-03 13:58:04.200 +07:00 [INF] Request origin http://localhost:5090 does not have permission to access the resource.
2024-08-03 13:58:04.201 +07:00 [INF] Executing endpoint 'capygram.Auth.Controllers.UsersController.ActiveAccount (capygram.Auth)'
2024-08-03 13:58:04.208 +07:00 [INF] Route matched with {action = "ActiveAccount", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ActiveAccount(capygram.Common.DTOs.User.UserRegisterDto) on controller capygram.Auth.Controllers.UsersController (capygram.Auth).
2024-08-03 13:58:04.208 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-03 13:58:04.209 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-03 13:58:04.209 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-03 13:58:04.209 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-03 13:58:04.209 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-03 13:58:04.209 +07:00 [DBG] Executing controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 13:58:04.211 +07:00 [DBG] Executed controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 13:58:04.212 +07:00 [DBG] Attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto' ...
2024-08-03 13:58:04.212 +07:00 [DBG] Attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto' using the name '' in request data ...
2024-08-03 13:58:04.212 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-08-03 13:58:04.212 +07:00 [DBG] Connection id "0HN5JH4H87MOG", Request id "0HN5JH4H87MOG:00000006": started reading request body.
2024-08-03 13:58:04.213 +07:00 [DBG] Connection id "0HN5JH4H87MOG", Request id "0HN5JH4H87MOG:00000006": done reading request body.
2024-08-03 13:58:04.213 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'capygram.Common.DTOs.User.UserRegisterDto'
2024-08-03 13:58:04.213 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto'.
2024-08-03 13:58:04.213 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto'.
2024-08-03 13:58:04.213 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto' ...
2024-08-03 13:58:04.214 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto'.
2024-08-03 13:58:04.307 +07:00 [INF] Executed action capygram.Auth.Controllers.UsersController.ActiveAccount (capygram.Auth) in 97.4026ms
2024-08-03 13:58:04.308 +07:00 [INF] Executed endpoint 'capygram.Auth.Controllers.UsersController.ActiveAccount (capygram.Auth)'
2024-08-03 13:58:04.361 +07:00 [ERR] OTP is invalid
capygram.Common.Exceptions.BadRequestException: OTP is invalid
   at capygram.Auth.Services.UserServices.ActiveAccount(UserRegisterDto request) in C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth\Services\UserServices.cs:line 48
   at capygram.Auth.Controllers.UsersController.ActiveAccount(UserRegisterDto request) in C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth\Controllers\UsersController.cs:line 66
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at capygram.Common.Middlewares.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\coode\Hit_Product\capygram-be\src\Services\capygram.Common\Middlewares\ExceptionHandlingMiddleware.cs:line 19
2024-08-03 13:58:04.388 +07:00 [DBG] Connection id "0HN5JH4H87MOG" completed keep alive response.
2024-08-03 13:58:04.388 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/Users/active-account - 400 null application/json 200.1182ms
2024-08-03 14:00:18.785 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/Users/active-account - application/json 199
2024-08-03 14:00:18.786 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/active-account'
2024-08-03 14:00:18.786 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.ActiveAccount (capygram.Auth)' with route pattern 'api/Users/active-account' is valid for the request path '/api/Users/active-account'
2024-08-03 14:00:18.786 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.ActiveAccount (capygram.Auth)'
2024-08-03 14:00:18.786 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-03 14:00:18.787 +07:00 [INF] Start request......!
2024-08-03 14:00:18.789 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-03 14:00:18.790 +07:00 [DBG] The request has an origin header: 'http://localhost:5090'.
2024-08-03 14:00:18.790 +07:00 [INF] CORS policy execution failed.
2024-08-03 14:00:18.790 +07:00 [INF] Request origin http://localhost:5090 does not have permission to access the resource.
2024-08-03 14:00:18.790 +07:00 [INF] Executing endpoint 'capygram.Auth.Controllers.UsersController.ActiveAccount (capygram.Auth)'
2024-08-03 14:00:18.790 +07:00 [INF] Route matched with {action = "ActiveAccount", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ActiveAccount(capygram.Common.DTOs.User.UserRegisterDto) on controller capygram.Auth.Controllers.UsersController (capygram.Auth).
2024-08-03 14:00:18.791 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-03 14:00:18.791 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-03 14:00:18.791 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-03 14:00:18.791 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-03 14:00:18.791 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-03 14:00:18.792 +07:00 [DBG] Executing controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:00:18.797 +07:00 [DBG] Executed controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:00:18.798 +07:00 [DBG] Attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto' ...
2024-08-03 14:00:18.798 +07:00 [DBG] Attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto' using the name '' in request data ...
2024-08-03 14:00:18.798 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-08-03 14:00:18.798 +07:00 [DBG] Connection id "0HN5JH4H87MOG", Request id "0HN5JH4H87MOG:00000007": started reading request body.
2024-08-03 14:00:18.799 +07:00 [DBG] Connection id "0HN5JH4H87MOG", Request id "0HN5JH4H87MOG:00000007": done reading request body.
2024-08-03 14:00:18.799 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'capygram.Common.DTOs.User.UserRegisterDto'
2024-08-03 14:00:18.799 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto'.
2024-08-03 14:00:18.799 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto'.
2024-08-03 14:00:18.799 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto' ...
2024-08-03 14:00:18.800 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto'.
2024-08-03 14:00:18.865 +07:00 [INF] Executed action capygram.Auth.Controllers.UsersController.ActiveAccount (capygram.Auth) in 73.7481ms
2024-08-03 14:00:18.866 +07:00 [INF] Executed endpoint 'capygram.Auth.Controllers.UsersController.ActiveAccount (capygram.Auth)'
2024-08-03 14:00:18.911 +07:00 [ERR] OTP is invalid
capygram.Common.Exceptions.BadRequestException: OTP is invalid
   at capygram.Auth.Services.UserServices.ActiveAccount(UserRegisterDto request) in C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth\Services\UserServices.cs:line 48
   at capygram.Auth.Controllers.UsersController.ActiveAccount(UserRegisterDto request) in C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth\Controllers\UsersController.cs:line 66
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at capygram.Common.Middlewares.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\coode\Hit_Product\capygram-be\src\Services\capygram.Common\Middlewares\ExceptionHandlingMiddleware.cs:line 19
2024-08-03 14:00:18.914 +07:00 [DBG] Connection id "0HN5JH4H87MOG" completed keep alive response.
2024-08-03 14:00:18.914 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/Users/active-account - 400 null application/json 128.984ms
2024-08-03 14:00:25.955 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/Users/register - application/json 199
2024-08-03 14:00:25.955 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/register'
2024-08-03 14:00:25.956 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.Register (capygram.Auth)' with route pattern 'api/Users/register' is valid for the request path '/api/Users/register'
2024-08-03 14:00:25.956 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.Register (capygram.Auth)'
2024-08-03 14:00:25.956 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-03 14:00:25.956 +07:00 [INF] Start request......!
2024-08-03 14:00:25.956 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-03 14:00:25.956 +07:00 [DBG] The request has an origin header: 'http://localhost:5090'.
2024-08-03 14:00:25.957 +07:00 [INF] CORS policy execution failed.
2024-08-03 14:00:25.957 +07:00 [INF] Request origin http://localhost:5090 does not have permission to access the resource.
2024-08-03 14:00:25.957 +07:00 [INF] Executing endpoint 'capygram.Auth.Controllers.UsersController.Register (capygram.Auth)'
2024-08-03 14:00:25.957 +07:00 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(capygram.Common.DTOs.User.UserRegisterDto) on controller capygram.Auth.Controllers.UsersController (capygram.Auth).
2024-08-03 14:00:25.957 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-03 14:00:25.957 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-03 14:00:25.957 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-03 14:00:25.958 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-03 14:00:25.958 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-03 14:00:25.958 +07:00 [DBG] Executing controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:00:25.959 +07:00 [DBG] Executed controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:00:25.960 +07:00 [DBG] Attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto' ...
2024-08-03 14:00:25.960 +07:00 [DBG] Attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto' using the name '' in request data ...
2024-08-03 14:00:25.960 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-08-03 14:00:25.960 +07:00 [DBG] Connection id "0HN5JH4H87MOG", Request id "0HN5JH4H87MOG:00000008": started reading request body.
2024-08-03 14:00:25.961 +07:00 [DBG] Connection id "0HN5JH4H87MOG", Request id "0HN5JH4H87MOG:00000008": done reading request body.
2024-08-03 14:00:25.961 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'capygram.Common.DTOs.User.UserRegisterDto'
2024-08-03 14:00:25.961 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto'.
2024-08-03 14:00:25.961 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto'.
2024-08-03 14:00:25.961 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto' ...
2024-08-03 14:00:25.962 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto'.
2024-08-03 14:00:25.987 +07:00 [DBG] SEND "rabbitmq://localhost/capygram/email-notification" "e05b0000-1625-902e-63b2-08dcb389f3ab" capygram.Common.MessageBus.Events.EmailNotification
2024-08-03 14:00:25.988 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-03 14:00:25.988 +07:00 [DBG] No information found on request to perform content negotiation.
2024-08-03 14:00:25.989 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-03 14:00:25.989 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-03 14:00:25.989 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-03 14:00:25.989 +07:00 [INF] Executing OkObjectResult, writing value of type 'capygram.Common.Shared.Result`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-03 14:00:25.990 +07:00 [INF] Executed action capygram.Auth.Controllers.UsersController.Register (capygram.Auth) in 31.6085ms
2024-08-03 14:00:25.990 +07:00 [INF] Executed endpoint 'capygram.Auth.Controllers.UsersController.Register (capygram.Auth)'
2024-08-03 14:00:25.990 +07:00 [DBG] Connection id "0HN5JH4H87MOG" completed keep alive response.
2024-08-03 14:00:25.990 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/Users/register - 200 null application/json; charset=utf-8 35.1198ms
2024-08-03 14:00:46.159 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/Users/active-account - application/json 199
2024-08-03 14:00:46.160 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/active-account'
2024-08-03 14:00:46.160 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.ActiveAccount (capygram.Auth)' with route pattern 'api/Users/active-account' is valid for the request path '/api/Users/active-account'
2024-08-03 14:00:46.160 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.ActiveAccount (capygram.Auth)'
2024-08-03 14:00:46.160 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-03 14:00:46.160 +07:00 [INF] Start request......!
2024-08-03 14:00:46.160 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-03 14:00:46.161 +07:00 [DBG] The request has an origin header: 'http://localhost:5090'.
2024-08-03 14:00:46.161 +07:00 [INF] CORS policy execution failed.
2024-08-03 14:00:46.161 +07:00 [INF] Request origin http://localhost:5090 does not have permission to access the resource.
2024-08-03 14:00:46.161 +07:00 [INF] Executing endpoint 'capygram.Auth.Controllers.UsersController.ActiveAccount (capygram.Auth)'
2024-08-03 14:00:46.161 +07:00 [INF] Route matched with {action = "ActiveAccount", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ActiveAccount(capygram.Common.DTOs.User.UserRegisterDto) on controller capygram.Auth.Controllers.UsersController (capygram.Auth).
2024-08-03 14:00:46.162 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-03 14:00:46.162 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-03 14:00:46.162 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-03 14:00:46.162 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-03 14:00:46.162 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-03 14:00:46.162 +07:00 [DBG] Executing controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:00:46.164 +07:00 [DBG] Executed controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:00:46.164 +07:00 [DBG] Attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto' ...
2024-08-03 14:00:46.165 +07:00 [DBG] Attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto' using the name '' in request data ...
2024-08-03 14:00:46.165 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-08-03 14:00:46.165 +07:00 [DBG] Connection id "0HN5JH4H87MOG", Request id "0HN5JH4H87MOG:00000009": started reading request body.
2024-08-03 14:00:46.165 +07:00 [DBG] Connection id "0HN5JH4H87MOG", Request id "0HN5JH4H87MOG:00000009": done reading request body.
2024-08-03 14:00:46.165 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'capygram.Common.DTOs.User.UserRegisterDto'
2024-08-03 14:00:46.165 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto'.
2024-08-03 14:00:46.166 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto'.
2024-08-03 14:00:46.166 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto' ...
2024-08-03 14:00:46.166 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'capygram.Common.DTOs.User.UserRegisterDto'.
2024-08-03 14:00:46.236 +07:00 [DBG] Declare exchange: name: user-changed-notification, type: fanout, durable
2024-08-03 14:00:46.237 +07:00 [DBG] Declare exchange: name: inotification, type: fanout, durable
2024-08-03 14:00:46.239 +07:00 [DBG] Bind exchange: source: user-changed-notification, destination: inotification
2024-08-03 14:00:46.276 +07:00 [DBG] SEND "rabbitmq://localhost/capygram/user-changed-notification" "e05b0000-1625-902e-95dd-08dcb389ffbd" capygram.Common.MessageBus.Events.UserChangedNotification
2024-08-03 14:00:46.291 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-03 14:00:46.292 +07:00 [DBG] No information found on request to perform content negotiation.
2024-08-03 14:00:46.292 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-03 14:00:46.292 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-03 14:00:46.292 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-03 14:00:46.292 +07:00 [INF] Executing OkObjectResult, writing value of type 'capygram.Common.Shared.Result`1[[capygram.Common.DTOs.User.UserAuthenticationResponse, capygram.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-03 14:00:46.295 +07:00 [INF] Executed action capygram.Auth.Controllers.UsersController.ActiveAccount (capygram.Auth) in 132.657ms
2024-08-03 14:00:46.295 +07:00 [INF] Executed endpoint 'capygram.Auth.Controllers.UsersController.ActiveAccount (capygram.Auth)'
2024-08-03 14:00:46.296 +07:00 [DBG] Connection id "0HN5JH4H87MOG" completed keep alive response.
2024-08-03 14:00:46.296 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/Users/active-account - 200 null application/json; charset=utf-8 136.8832ms
2024-08-03 14:01:57.884 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/Users/upload-avatar - multipart/form-data; boundary=----WebKitFormBoundaryEYtGNv2oBA4TJu76 20867
2024-08-03 14:01:57.884 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/upload-avatar'
2024-08-03 14:01:57.884 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)' with route pattern 'api/Users/upload-avatar' is valid for the request path '/api/Users/upload-avatar'
2024-08-03 14:01:57.885 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 14:01:57.885 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-03 14:01:57.885 +07:00 [INF] Start request......!
2024-08-03 14:01:57.885 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-03 14:01:57.885 +07:00 [DBG] The request has an origin header: 'http://localhost:5090'.
2024-08-03 14:01:57.885 +07:00 [INF] CORS policy execution failed.
2024-08-03 14:01:57.885 +07:00 [INF] Request origin http://localhost:5090 does not have permission to access the resource.
2024-08-03 14:01:57.886 +07:00 [INF] Executing endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 14:01:57.891 +07:00 [INF] Route matched with {action = "UpdateAvatar", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAvatar(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile], System.Guid) on controller capygram.Auth.Controllers.UsersController (capygram.Auth).
2024-08-03 14:01:57.891 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-03 14:01:57.891 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-03 14:01:57.891 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-03 14:01:57.892 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-03 14:01:57.892 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-03 14:01:57.892 +07:00 [DBG] Executing controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:01:57.894 +07:00 [DBG] Executed controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:01:57.898 +07:00 [DBG] Connection id "0HN5JH4H87MOG", Request id "0HN5JH4H87MOG:0000000A": started reading request body.
2024-08-03 14:01:57.899 +07:00 [DBG] Connection id "0HN5JH4H87MOG", Request id "0HN5JH4H87MOG:0000000A": done reading request body.
2024-08-03 14:01:57.906 +07:00 [DBG] Attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-08-03 14:01:57.908 +07:00 [DBG] Attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name '' in request data ...
2024-08-03 14:01:57.909 +07:00 [DBG] Done attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 14:01:57.909 +07:00 [DBG] Done attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 14:01:57.909 +07:00 [DBG] Attempting to validate the bound parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-08-03 14:01:57.912 +07:00 [DBG] Done attempting to validate the bound parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 14:01:57.912 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Guid' ...
2024-08-03 14:01:57.913 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Guid' using the name 'userId' in request data ...
2024-08-03 14:01:57.913 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Guid'.
2024-08-03 14:01:57.914 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Guid'.
2024-08-03 14:01:57.914 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Guid' ...
2024-08-03 14:01:57.914 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Guid'.
2024-08-03 14:01:57.925 +07:00 [DBG] Declare exchange: name: image-upload-notification, type: fanout, durable
2024-08-03 14:01:57.925 +07:00 [DBG] Declare exchange: name: inotification, type: fanout, durable
2024-08-03 14:01:57.928 +07:00 [DBG] Bind exchange: source: image-upload-notification, destination: inotification
2024-08-03 14:01:58.004 +07:00 [DBG] SEND "rabbitmq://localhost/capygram/image-upload-notification" "e05b0000-1625-902e-ff78-08dcb38a2a78" capygram.Common.MessageBus.Events.ImageUploadNotification
2024-08-03 14:01:58.005 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-03 14:01:58.005 +07:00 [DBG] No information found on request to perform content negotiation.
2024-08-03 14:01:58.005 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-03 14:01:58.005 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-03 14:01:58.005 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-03 14:01:58.005 +07:00 [INF] Executing OkObjectResult, writing value of type 'capygram.Common.Shared.Result`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-03 14:01:58.006 +07:00 [INF] Executed action capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth) in 113.7034ms
2024-08-03 14:01:58.006 +07:00 [INF] Executed endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 14:01:58.006 +07:00 [DBG] Connection id "0HN5JH4H87MOG" completed keep alive response.
2024-08-03 14:01:58.007 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/Users/upload-avatar - 200 null application/json; charset=utf-8 122.7453ms
2024-08-03 14:03:02.974 +07:00 [DBG] Declare exchange: name: user-changed-notification, type: fanout, durable
2024-08-03 14:03:02.974 +07:00 [DBG] Declare exchange: name: inotification, type: fanout, durable
2024-08-03 14:03:02.977 +07:00 [DBG] Bind exchange: source: user-changed-notification, destination: inotification
2024-08-03 14:03:03.006 +07:00 [DBG] SEND "rabbitmq://localhost/capygram/user-changed-notification" "e05b0000-1625-902e-3d58-08dcb38a513e" capygram.Common.MessageBus.Events.UserChangedNotification
2024-08-03 14:03:14.325 +07:00 [DBG] RECEIVE "rabbitmq://localhost/capygram/user-media-queue" "a83a0000-1625-902e-c8a1-08dcb38a2bcb" capygram.Common.MessageBus.Events.ImageUploadedNotification capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer("00:01:14.0624934")
2024-08-03 14:03:40.353 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/Users/edit - application/json 107
2024-08-03 14:03:40.354 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/edit'
2024-08-03 14:03:40.354 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.UpdateProfile (capygram.Auth)' with route pattern 'api/Users/edit' is valid for the request path '/api/Users/edit'
2024-08-03 14:03:40.354 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.UpdateProfile (capygram.Auth)'
2024-08-03 14:03:40.354 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-03 14:03:40.354 +07:00 [INF] Start request......!
2024-08-03 14:03:40.354 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-03 14:03:40.355 +07:00 [DBG] The request has an origin header: 'http://localhost:5090'.
2024-08-03 14:03:40.355 +07:00 [INF] CORS policy execution failed.
2024-08-03 14:03:40.355 +07:00 [INF] Request origin http://localhost:5090 does not have permission to access the resource.
2024-08-03 14:03:40.355 +07:00 [INF] Executing endpoint 'capygram.Auth.Controllers.UsersController.UpdateProfile (capygram.Auth)'
2024-08-03 14:03:40.358 +07:00 [INF] Route matched with {action = "UpdateProfile", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProfile(capygram.Common.DTOs.User.UserUpdateProfileDto) on controller capygram.Auth.Controllers.UsersController (capygram.Auth).
2024-08-03 14:03:40.358 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-03 14:03:40.358 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-03 14:03:40.358 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-03 14:03:40.359 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-03 14:03:40.359 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-03 14:03:40.359 +07:00 [DBG] Executing controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:03:40.361 +07:00 [DBG] Executed controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:03:40.361 +07:00 [DBG] Attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserUpdateProfileDto' ...
2024-08-03 14:03:40.361 +07:00 [DBG] Attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserUpdateProfileDto' using the name '' in request data ...
2024-08-03 14:03:40.362 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-08-03 14:03:40.363 +07:00 [DBG] Connection id "0HN5JH4H87MOG", Request id "0HN5JH4H87MOG:0000000B": started reading request body.
2024-08-03 14:03:40.363 +07:00 [DBG] Connection id "0HN5JH4H87MOG", Request id "0HN5JH4H87MOG:0000000B": done reading request body.
2024-08-03 14:03:40.365 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'capygram.Common.DTOs.User.UserUpdateProfileDto'
2024-08-03 14:03:40.365 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserUpdateProfileDto'.
2024-08-03 14:03:40.365 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserUpdateProfileDto'.
2024-08-03 14:03:40.365 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'capygram.Common.DTOs.User.UserUpdateProfileDto' ...
2024-08-03 14:03:40.366 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'capygram.Common.DTOs.User.UserUpdateProfileDto'.
2024-08-03 14:04:28.687 +07:00 [INF] Executed action capygram.Auth.Controllers.UsersController.UpdateProfile (capygram.Auth) in 48328.0721ms
2024-08-03 14:04:28.687 +07:00 [INF] Executed endpoint 'capygram.Auth.Controllers.UsersController.UpdateProfile (capygram.Auth)'
2024-08-03 14:04:28.699 +07:00 [ERR] User Is Not Found
capygram.Common.Exceptions.NotFoundException: User Is Not Found
   at capygram.Auth.Services.UserServices.UpdateProfile(UserUpdateProfileDto request) in C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth\Services\UserServices.cs:line 201
   at capygram.Auth.Controllers.UsersController.UpdateProfile(UserUpdateProfileDto request) in C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth\Controllers\UsersController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at capygram.Common.Middlewares.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\coode\Hit_Product\capygram-be\src\Services\capygram.Common\Middlewares\ExceptionHandlingMiddleware.cs:line 19
2024-08-03 14:04:28.701 +07:00 [DBG] Connection id "0HN5JH4H87MOG" completed keep alive response.
2024-08-03 14:04:28.701 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/Users/edit - 404 null application/json 48347.5837ms
2024-08-03 14:04:40.816 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/Users/edit - application/json 107
2024-08-03 14:04:40.816 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/edit'
2024-08-03 14:04:40.816 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.UpdateProfile (capygram.Auth)' with route pattern 'api/Users/edit' is valid for the request path '/api/Users/edit'
2024-08-03 14:04:40.816 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.UpdateProfile (capygram.Auth)'
2024-08-03 14:04:40.816 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-03 14:04:40.817 +07:00 [INF] Start request......!
2024-08-03 14:04:40.817 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-03 14:04:40.817 +07:00 [DBG] The request has an origin header: 'http://localhost:5090'.
2024-08-03 14:04:40.817 +07:00 [INF] CORS policy execution failed.
2024-08-03 14:04:40.817 +07:00 [INF] Request origin http://localhost:5090 does not have permission to access the resource.
2024-08-03 14:04:40.817 +07:00 [INF] Executing endpoint 'capygram.Auth.Controllers.UsersController.UpdateProfile (capygram.Auth)'
2024-08-03 14:04:40.817 +07:00 [INF] Route matched with {action = "UpdateProfile", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProfile(capygram.Common.DTOs.User.UserUpdateProfileDto) on controller capygram.Auth.Controllers.UsersController (capygram.Auth).
2024-08-03 14:04:40.818 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-03 14:04:40.818 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-03 14:04:40.818 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-03 14:04:40.818 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-03 14:04:40.818 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-03 14:04:40.818 +07:00 [DBG] Executing controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:04:40.820 +07:00 [DBG] Executed controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:04:40.820 +07:00 [DBG] Attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserUpdateProfileDto' ...
2024-08-03 14:04:40.820 +07:00 [DBG] Attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserUpdateProfileDto' using the name '' in request data ...
2024-08-03 14:04:40.821 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-08-03 14:04:40.821 +07:00 [DBG] Connection id "0HN5JH4H87MOG", Request id "0HN5JH4H87MOG:0000000C": started reading request body.
2024-08-03 14:04:40.821 +07:00 [DBG] Connection id "0HN5JH4H87MOG", Request id "0HN5JH4H87MOG:0000000C": done reading request body.
2024-08-03 14:04:40.821 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'capygram.Common.DTOs.User.UserUpdateProfileDto'
2024-08-03 14:04:40.821 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserUpdateProfileDto'.
2024-08-03 14:04:40.822 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserUpdateProfileDto'.
2024-08-03 14:04:40.822 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'capygram.Common.DTOs.User.UserUpdateProfileDto' ...
2024-08-03 14:04:40.822 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'capygram.Common.DTOs.User.UserUpdateProfileDto'.
2024-08-03 14:12:20.470 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-03 14:12:20.999 +07:00 [DBG] Hosting starting
2024-08-03 14:12:21.042 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-03 14:12:21.231 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-08-03 14:12:21.339 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-08-03 14:12:21.347 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-08-03 14:12:21.348 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-08-03 14:12:21.348 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-08-03 14:12:21.351 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-08-03 14:12:21.357 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-08-03 14:12:21.358 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-08-03 14:12:21.358 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-08-03 14:12:21.364 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-08-03 14:12:21.368 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 14:12:21.370 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-03 14:12:21.372 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 14:12:21.375 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-03 14:12:21.376 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-03 14:12:21.378 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-08-03 14:12:21.379 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-08-03 14:12:21.381 +07:00 [DBG] Starting bus instances: IBus
2024-08-03 14:12:21.385 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-08-03 14:12:21.429 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-08-03 14:12:21.593 +07:00 [INF] Now listening on: http://[::]:5090
2024-08-03 14:12:21.593 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-08-03 14:12:21.593 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-03 14:12:21.593 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-03 14:12:21.594 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-03 14:12:21.594 +07:00 [INF] Hosting environment: Development
2024-08-03 14:12:21.594 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-08-03 14:12:21.595 +07:00 [DBG] Hosting started
2024-08-03 14:12:21.629 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 55062)
2024-08-03 14:12:21.676 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_godoyyysrsen7rmebdqm8nh78a?temporary=true"
2024-08-03 14:12:21.698 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-08-03 14:12:21.717 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-08-03 14:12:21.725 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-08-03 14:12:21.730 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-08-03 14:12:21.763 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-08-03 14:12:21.850 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-zwkJHV08o3FjbTzn4Zfqow
2024-08-03 14:12:21.851 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-08-03 14:12:21.854 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-08-03 14:12:22.737 +07:00 [DBG] Connection id "0HN5JHEFE8UHP" received FIN.
2024-08-03 14:12:22.744 +07:00 [DBG] Connection id "0HN5JHEFE8UHP" accepted.
2024-08-03 14:12:22.745 +07:00 [DBG] Connection id "0HN5JHEFE8UHP" started.
2024-08-03 14:12:22.756 +07:00 [DBG] Connection id "0HN5JHEFE8UHP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 14:12:22.759 +07:00 [DBG] Connection id "0HN5JHEFE8UHP" disconnecting.
2024-08-03 14:12:22.763 +07:00 [DBG] Connection id "0HN5JHEFE8UHP" stopped.
2024-08-03 14:12:24.697 +07:00 [DBG] Connection id "0HN5JHEFE8UHQ" accepted.
2024-08-03 14:12:24.697 +07:00 [DBG] Connection id "0HN5JHEFE8UHQ" started.
2024-08-03 14:12:24.698 +07:00 [DBG] Connection id "0HN5JHEFE8UHR" accepted.
2024-08-03 14:12:24.698 +07:00 [DBG] Connection id "0HN5JHEFE8UHR" started.
2024-08-03 14:12:25.203 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2024-08-03 14:12:25.304 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-03 14:12:25.372 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-03 14:12:25.373 +07:00 [DBG] Request did not match any endpoints
2024-08-03 14:12:25.494 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-03 14:12:25.498 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-03 14:12:25.533 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-03 14:12:25.535 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-03 14:12:25.536 +07:00 [DBG] Connection id "0HN5JHEFE8UHQ" completed keep alive response.
2024-08-03 14:12:25.539 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 341.975ms
2024-08-03 14:12:25.781 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - null null
2024-08-03 14:12:25.784 +07:00 [DBG] Connection id "0HN5JHEFE8UHQ" completed keep alive response.
2024-08-03 14:12:25.785 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 4.2758ms
2024-08-03 14:12:25.860 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_vs/browserLink - null null
2024-08-03 14:12:25.907 +07:00 [DBG] Connection id "0HN5JHEFE8UHQ" completed keep alive response.
2024-08-03 14:12:25.907 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.4043ms
2024-08-03 14:12:27.056 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2024-08-03 14:12:27.058 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-03 14:12:27.059 +07:00 [DBG] Request did not match any endpoints
2024-08-03 14:12:27.476 +07:00 [DBG] Connection id "0HN5JHEFE8UHQ" completed keep alive response.
2024-08-03 14:12:27.527 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 470.7319ms
2024-08-03 14:12:51.897 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/Users/upload-avatar - multipart/form-data; boundary=----WebKitFormBoundaryFD2isOeljY91CTP7 466741
2024-08-03 14:12:51.903 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/upload-avatar'
2024-08-03 14:12:51.905 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)' with route pattern 'api/Users/upload-avatar' is valid for the request path '/api/Users/upload-avatar'
2024-08-03 14:12:51.906 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 14:12:51.908 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-03 14:12:51.909 +07:00 [WRN] Failed to determine the https port for redirect.
2024-08-03 14:12:51.910 +07:00 [INF] Start request......!
2024-08-03 14:12:51.966 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-03 14:12:51.967 +07:00 [DBG] The request has an origin header: 'http://localhost:5090'.
2024-08-03 14:12:51.968 +07:00 [INF] CORS policy execution failed.
2024-08-03 14:12:51.968 +07:00 [INF] Request origin http://localhost:5090 does not have permission to access the resource.
2024-08-03 14:12:51.971 +07:00 [INF] Executing endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 14:12:51.991 +07:00 [INF] Route matched with {action = "UpdateAvatar", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAvatar(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile], System.Guid) on controller capygram.Auth.Controllers.UsersController (capygram.Auth).
2024-08-03 14:12:51.992 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-03 14:12:51.992 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-03 14:12:51.992 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-03 14:12:51.993 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-03 14:12:51.993 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-03 14:12:51.994 +07:00 [DBG] Executing controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:12:52.001 +07:00 [DBG] Executed controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:12:52.007 +07:00 [DBG] Connection id "0HN5JHEFE8UHQ", Request id "0HN5JHEFE8UHQ:00000005": started reading request body.
2024-08-03 14:12:52.008 +07:00 [DBG] Connection id "0HN5JHEFE8UHQ", Request id "0HN5JHEFE8UHQ:00000005": done reading request body.
2024-08-03 14:12:52.041 +07:00 [DBG] Attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-08-03 14:12:52.044 +07:00 [DBG] Attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name '' in request data ...
2024-08-03 14:12:52.045 +07:00 [DBG] Done attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 14:12:52.046 +07:00 [DBG] Done attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 14:12:52.046 +07:00 [DBG] Attempting to validate the bound parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-08-03 14:12:52.053 +07:00 [DBG] Done attempting to validate the bound parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 14:12:52.054 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Guid' ...
2024-08-03 14:12:52.055 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Guid' using the name 'userId' in request data ...
2024-08-03 14:12:52.055 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Guid'.
2024-08-03 14:12:52.056 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Guid'.
2024-08-03 14:12:52.056 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Guid' ...
2024-08-03 14:12:52.056 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Guid'.
2024-08-03 14:12:52.119 +07:00 [DBG] Declare exchange: name: image-upload-notification, type: fanout, durable
2024-08-03 14:12:52.120 +07:00 [DBG] Declare exchange: name: inotification, type: fanout, durable
2024-08-03 14:12:52.123 +07:00 [DBG] Bind exchange: source: image-upload-notification, destination: inotification
2024-08-03 14:12:52.299 +07:00 [DBG] SEND "rabbitmq://localhost/capygram/image-upload-notification" "34070000-1625-902e-28df-08dcb38bb064" capygram.Common.MessageBus.Events.ImageUploadNotification
2024-08-03 14:12:52.309 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-03 14:12:52.311 +07:00 [DBG] No information found on request to perform content negotiation.
2024-08-03 14:12:52.311 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-03 14:12:52.311 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-03 14:12:52.312 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-03 14:12:52.313 +07:00 [INF] Executing OkObjectResult, writing value of type 'capygram.Common.Shared.Result`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-03 14:12:52.322 +07:00 [INF] Executed action capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth) in 325.4568ms
2024-08-03 14:12:52.322 +07:00 [INF] Executed endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 14:12:52.325 +07:00 [DBG] Connection id "0HN5JHEFE8UHQ" completed keep alive response.
2024-08-03 14:12:52.327 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/Users/upload-avatar - 200 null application/json; charset=utf-8 430.2356ms
2024-08-03 14:13:21.468 +07:00 [DBG] Declare exchange: name: user-changed-notification, type: fanout, durable
2024-08-03 14:13:21.469 +07:00 [DBG] Declare exchange: name: inotification, type: fanout, durable
2024-08-03 14:13:21.471 +07:00 [DBG] Bind exchange: source: user-changed-notification, destination: inotification
2024-08-03 14:13:21.513 +07:00 [DBG] SEND "rabbitmq://localhost/capygram/user-changed-notification" "34070000-1625-902e-a403-08dcb38bc1e5" capygram.Common.MessageBus.Events.UserChangedNotification
2024-08-03 14:13:24.419 +07:00 [DBG] RECEIVE "rabbitmq://localhost/capygram/user-media-queue" "c0480000-1625-902e-9fa0-08dcb38bb283" capygram.Common.MessageBus.Events.ImageUploadedNotification capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer("00:00:28.6188767")
2024-08-03 14:13:40.278 +07:00 [DBG] Connection id "0HN5JHEFE8UHR" received FIN.
2024-08-03 14:13:40.278 +07:00 [DBG] Connection id "0HN5JHEFE8UHR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 14:13:40.279 +07:00 [DBG] Connection id "0HN5JHEFE8UHR" disconnecting.
2024-08-03 14:13:40.280 +07:00 [DBG] Connection id "0HN5JHEFE8UHR" stopped.
2024-08-03 14:14:50.707 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/Users/upload-avatar - multipart/form-data; boundary=----WebKitFormBoundaryHPsSSkIZ8NBWnbJK 466741
2024-08-03 14:14:50.710 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/upload-avatar'
2024-08-03 14:14:50.711 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)' with route pattern 'api/Users/upload-avatar' is valid for the request path '/api/Users/upload-avatar'
2024-08-03 14:14:50.711 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 14:14:50.711 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-03 14:14:50.712 +07:00 [INF] Start request......!
2024-08-03 14:14:50.713 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-03 14:14:50.713 +07:00 [DBG] The request has an origin header: 'http://localhost:5090'.
2024-08-03 14:14:50.713 +07:00 [INF] CORS policy execution failed.
2024-08-03 14:14:50.713 +07:00 [INF] Request origin http://localhost:5090 does not have permission to access the resource.
2024-08-03 14:14:50.713 +07:00 [INF] Executing endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 14:14:50.714 +07:00 [INF] Route matched with {action = "UpdateAvatar", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAvatar(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile], System.Guid) on controller capygram.Auth.Controllers.UsersController (capygram.Auth).
2024-08-03 14:14:50.714 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-03 14:14:50.714 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-03 14:14:50.715 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-03 14:14:50.715 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-03 14:14:50.715 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-03 14:14:50.715 +07:00 [DBG] Executing controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:14:50.719 +07:00 [DBG] Executed controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:14:50.720 +07:00 [DBG] Connection id "0HN5JHEFE8UHQ", Request id "0HN5JHEFE8UHQ:00000006": started reading request body.
2024-08-03 14:14:50.720 +07:00 [DBG] Connection id "0HN5JHEFE8UHQ", Request id "0HN5JHEFE8UHQ:00000006": done reading request body.
2024-08-03 14:14:50.735 +07:00 [DBG] Attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-08-03 14:14:50.736 +07:00 [DBG] Attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name '' in request data ...
2024-08-03 14:14:50.736 +07:00 [DBG] Done attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 14:14:50.736 +07:00 [DBG] Done attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 14:14:50.736 +07:00 [DBG] Attempting to validate the bound parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-08-03 14:14:50.737 +07:00 [DBG] Done attempting to validate the bound parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 14:14:50.737 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Guid' ...
2024-08-03 14:14:50.737 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Guid' using the name 'userId' in request data ...
2024-08-03 14:14:50.737 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Guid'.
2024-08-03 14:14:50.737 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Guid'.
2024-08-03 14:14:50.737 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Guid' ...
2024-08-03 14:14:50.737 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Guid'.
2024-08-03 14:14:50.750 +07:00 [DBG] SEND "rabbitmq://localhost/capygram/image-upload-notification" "34070000-1625-902e-233f-08dcb38bf71c" capygram.Common.MessageBus.Events.ImageUploadNotification
2024-08-03 14:14:50.751 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-03 14:14:50.751 +07:00 [DBG] No information found on request to perform content negotiation.
2024-08-03 14:14:50.751 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-03 14:14:50.752 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-03 14:14:50.752 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-03 14:14:50.752 +07:00 [INF] Executing OkObjectResult, writing value of type 'capygram.Common.Shared.Result`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-03 14:14:50.753 +07:00 [INF] Executed action capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth) in 37.5185ms
2024-08-03 14:14:50.753 +07:00 [INF] Executed endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 14:14:50.753 +07:00 [DBG] Connection id "0HN5JHEFE8UHQ" completed keep alive response.
2024-08-03 14:14:50.754 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/Users/upload-avatar - 200 null application/json; charset=utf-8 46.5241ms
2024-08-03 14:15:15.121 +07:00 [DBG] SEND "rabbitmq://localhost/capygram/user-changed-notification" "34070000-1625-902e-6b95-08dcb38c05a1" capygram.Common.MessageBus.Events.UserChangedNotification
2024-08-03 14:15:27.701 +07:00 [DBG] RECEIVE "rabbitmq://localhost/capygram/user-media-queue" "c0480000-1625-902e-da4e-08dcb38bf8dd" capygram.Common.MessageBus.Events.ImageUploadedNotification capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer("00:00:34.0033088")
2024-08-03 14:18:54.081 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/Users/upload-avatar - multipart/form-data; boundary=----WebKitFormBoundaryHjXdpKuB6lMeCrGr 466741
2024-08-03 14:18:54.081 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/upload-avatar'
2024-08-03 14:18:54.082 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)' with route pattern 'api/Users/upload-avatar' is valid for the request path '/api/Users/upload-avatar'
2024-08-03 14:18:54.084 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 14:18:54.084 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-03 14:18:54.085 +07:00 [INF] Start request......!
2024-08-03 14:18:54.086 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-03 14:18:54.087 +07:00 [DBG] The request has an origin header: 'http://localhost:5090'.
2024-08-03 14:18:54.087 +07:00 [INF] CORS policy execution failed.
2024-08-03 14:18:54.087 +07:00 [INF] Request origin http://localhost:5090 does not have permission to access the resource.
2024-08-03 14:18:54.087 +07:00 [INF] Executing endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 14:18:54.087 +07:00 [INF] Route matched with {action = "UpdateAvatar", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAvatar(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile], System.Guid) on controller capygram.Auth.Controllers.UsersController (capygram.Auth).
2024-08-03 14:18:54.088 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-03 14:18:54.088 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-03 14:18:54.088 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-03 14:18:54.088 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-03 14:18:54.088 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-03 14:18:54.089 +07:00 [DBG] Executing controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:18:54.092 +07:00 [DBG] Executed controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:18:54.092 +07:00 [DBG] Connection id "0HN5JHEFE8UHQ", Request id "0HN5JHEFE8UHQ:00000007": started reading request body.
2024-08-03 14:18:54.093 +07:00 [DBG] Connection id "0HN5JHEFE8UHQ", Request id "0HN5JHEFE8UHQ:00000007": done reading request body.
2024-08-03 14:18:54.105 +07:00 [DBG] Attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-08-03 14:18:54.105 +07:00 [DBG] Attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name '' in request data ...
2024-08-03 14:18:54.105 +07:00 [DBG] Done attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 14:18:54.105 +07:00 [DBG] Done attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 14:18:54.105 +07:00 [DBG] Attempting to validate the bound parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-08-03 14:18:54.106 +07:00 [DBG] Done attempting to validate the bound parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 14:18:54.106 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Guid' ...
2024-08-03 14:18:54.106 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Guid' using the name 'userId' in request data ...
2024-08-03 14:18:54.106 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Guid'.
2024-08-03 14:18:54.106 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Guid'.
2024-08-03 14:18:54.106 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Guid' ...
2024-08-03 14:18:54.106 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Guid'.
2024-08-03 14:18:54.118 +07:00 [DBG] SEND "rabbitmq://localhost/capygram/image-upload-notification" "34070000-1625-902e-3a6f-08dcb38c882b" capygram.Common.MessageBus.Events.ImageUploadNotification
2024-08-03 14:18:54.119 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-03 14:18:54.119 +07:00 [DBG] No information found on request to perform content negotiation.
2024-08-03 14:18:54.119 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-03 14:18:54.119 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-03 14:18:54.120 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-03 14:18:54.120 +07:00 [INF] Executing OkObjectResult, writing value of type 'capygram.Common.Shared.Result`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-03 14:18:54.120 +07:00 [INF] Executed action capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth) in 31.3837ms
2024-08-03 14:18:54.120 +07:00 [INF] Executed endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 14:18:54.121 +07:00 [DBG] Connection id "0HN5JHEFE8UHQ" completed keep alive response.
2024-08-03 14:18:54.121 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/Users/upload-avatar - 200 null application/json; charset=utf-8 40.5612ms
2024-08-03 14:19:13.182 +07:00 [DBG] SEND "rabbitmq://localhost/capygram/user-changed-notification" "34070000-1625-902e-341f-08dcb38c9386" capygram.Common.MessageBus.Events.UserChangedNotification
2024-08-03 14:19:32.913 +07:00 [DBG] RECEIVE "rabbitmq://localhost/capygram/user-media-queue" "c0480000-1625-902e-c40f-08dcb38c89db" capygram.Common.MessageBus.Events.ImageUploadedNotification capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer("00:00:35.9661450")
2024-08-03 14:19:55.357 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-03 14:19:55.854 +07:00 [DBG] Hosting starting
2024-08-03 14:19:55.900 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-03 14:19:56.107 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-08-03 14:19:56.233 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-08-03 14:19:56.241 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-08-03 14:19:56.242 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-08-03 14:19:56.243 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-08-03 14:19:56.248 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-08-03 14:19:56.253 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-08-03 14:19:56.254 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-08-03 14:19:56.254 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-08-03 14:19:56.260 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-08-03 14:19:56.264 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 14:19:56.266 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-03 14:19:56.268 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 14:19:56.272 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-03 14:19:56.273 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-03 14:19:56.275 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-08-03 14:19:56.276 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-08-03 14:19:56.277 +07:00 [DBG] Starting bus instances: IBus
2024-08-03 14:19:56.281 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-08-03 14:19:56.941 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-08-03 14:19:57.076 +07:00 [INF] Now listening on: http://[::]:5090
2024-08-03 14:19:57.076 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-08-03 14:19:57.077 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-03 14:19:57.077 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-03 14:19:57.082 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-03 14:19:57.083 +07:00 [INF] Hosting environment: Development
2024-08-03 14:19:57.085 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-08-03 14:19:57.086 +07:00 [DBG] Hosting started
2024-08-03 14:19:57.116 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 55314)
2024-08-03 14:19:57.163 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_bbqyyyysrsenhs1ibdqm8dfpya?temporary=true"
2024-08-03 14:19:57.186 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-08-03 14:19:57.207 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-08-03 14:19:57.214 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-08-03 14:19:57.221 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-08-03 14:19:57.253 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-08-03 14:19:57.340 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-IWZuxCCPddPE76Ivg8wbsQ
2024-08-03 14:19:57.341 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-08-03 14:19:57.347 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-08-03 14:19:57.853 +07:00 [DBG] Connection id "0HN5JHIN2J7T8" received FIN.
2024-08-03 14:19:57.858 +07:00 [DBG] Connection id "0HN5JHIN2J7T8" accepted.
2024-08-03 14:19:57.860 +07:00 [DBG] Connection id "0HN5JHIN2J7T8" started.
2024-08-03 14:19:57.873 +07:00 [DBG] Connection id "0HN5JHIN2J7T8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 14:19:57.877 +07:00 [DBG] Connection id "0HN5JHIN2J7T8" disconnecting.
2024-08-03 14:19:57.881 +07:00 [DBG] Connection id "0HN5JHIN2J7T8" stopped.
2024-08-03 14:20:27.743 +07:00 [DBG] Connection id "0HN5JHIN2J7T9" accepted.
2024-08-03 14:20:27.744 +07:00 [DBG] Connection id "0HN5JHIN2J7T9" started.
2024-08-03 14:20:27.757 +07:00 [DBG] Connection id "0HN5JHIN2J7TA" accepted.
2024-08-03 14:20:27.758 +07:00 [DBG] Connection id "0HN5JHIN2J7TA" started.
2024-08-03 14:20:29.347 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2024-08-03 14:20:29.481 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-03 14:20:29.522 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-03 14:20:29.525 +07:00 [DBG] Request did not match any endpoints
2024-08-03 14:20:29.665 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-03 14:20:29.668 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-03 14:20:29.692 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-03 14:20:29.693 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-03 14:20:29.694 +07:00 [DBG] Connection id "0HN5JHIN2J7T9" completed keep alive response.
2024-08-03 14:20:29.697 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 355.8954ms
2024-08-03 14:20:29.883 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - null null
2024-08-03 14:20:29.886 +07:00 [DBG] Connection id "0HN5JHIN2J7T9" completed keep alive response.
2024-08-03 14:20:29.887 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 4.0069ms
2024-08-03 14:20:29.906 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_vs/browserLink - null null
2024-08-03 14:20:29.947 +07:00 [DBG] Connection id "0HN5JHIN2J7T9" completed keep alive response.
2024-08-03 14:20:29.947 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.3286ms
2024-08-03 14:20:30.514 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2024-08-03 14:20:30.516 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-03 14:20:30.516 +07:00 [DBG] Request did not match any endpoints
2024-08-03 14:20:30.678 +07:00 [DBG] Connection id "0HN5JHIN2J7T9" completed keep alive response.
2024-08-03 14:20:30.679 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 165.0212ms
2024-08-03 14:21:59.874 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-03 14:22:00.365 +07:00 [DBG] Hosting starting
2024-08-03 14:22:00.390 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-03 14:22:00.574 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-08-03 14:22:00.691 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-08-03 14:22:00.698 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-08-03 14:22:00.699 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-08-03 14:22:00.699 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-08-03 14:22:00.703 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-08-03 14:22:00.707 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-08-03 14:22:00.708 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-08-03 14:22:00.708 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-08-03 14:22:00.714 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-08-03 14:22:00.717 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 14:22:00.719 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-03 14:22:00.721 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 14:22:00.725 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-03 14:22:00.726 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-03 14:22:00.727 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-08-03 14:22:00.728 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-08-03 14:22:00.730 +07:00 [DBG] Starting bus instances: IBus
2024-08-03 14:22:00.733 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-08-03 14:22:00.783 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-08-03 14:22:00.954 +07:00 [INF] Now listening on: http://[::]:5090
2024-08-03 14:22:00.955 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-08-03 14:22:00.955 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-03 14:22:00.955 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-03 14:22:00.956 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-03 14:22:00.956 +07:00 [INF] Hosting environment: Development
2024-08-03 14:22:00.957 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-08-03 14:22:00.957 +07:00 [DBG] Hosting started
2024-08-03 14:22:00.992 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 55447)
2024-08-03 14:22:01.036 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_6ojyyyysrsen77qwbdqm8d8zne?temporary=true"
2024-08-03 14:22:01.061 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-08-03 14:22:01.076 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-08-03 14:22:01.081 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-08-03 14:22:01.086 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-08-03 14:22:01.108 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-08-03 14:22:01.204 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-NloNnpeIdvWPy7FQAlBGag
2024-08-03 14:22:01.204 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-08-03 14:22:01.207 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-08-03 14:22:02.013 +07:00 [DBG] Connection id "0HN5JHJS2M74U" received FIN.
2024-08-03 14:22:02.020 +07:00 [DBG] Connection id "0HN5JHJS2M74U" accepted.
2024-08-03 14:22:02.022 +07:00 [DBG] Connection id "0HN5JHJS2M74U" started.
2024-08-03 14:22:02.039 +07:00 [DBG] Connection id "0HN5JHJS2M74U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 14:22:02.061 +07:00 [DBG] Connection id "0HN5JHJS2M74U" disconnecting.
2024-08-03 14:22:02.072 +07:00 [DBG] Connection id "0HN5JHJS2M74U" stopped.
2024-08-03 14:22:03.024 +07:00 [DBG] Connection id "0HN5JHJS2M74V" accepted.
2024-08-03 14:22:03.025 +07:00 [DBG] Connection id "0HN5JHJS2M74V" started.
2024-08-03 14:22:03.029 +07:00 [DBG] Connection id "0HN5JHJS2M750" accepted.
2024-08-03 14:22:03.036 +07:00 [DBG] Connection id "0HN5JHJS2M750" started.
2024-08-03 14:22:03.489 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2024-08-03 14:22:03.595 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-03 14:22:03.677 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-03 14:22:03.685 +07:00 [DBG] Request did not match any endpoints
2024-08-03 14:22:03.791 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-03 14:22:03.806 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-03 14:22:03.881 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-03 14:22:03.882 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-03 14:22:03.883 +07:00 [DBG] Connection id "0HN5JHJS2M74V" completed keep alive response.
2024-08-03 14:22:03.886 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 404.8963ms
2024-08-03 14:22:04.733 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - null null
2024-08-03 14:22:04.736 +07:00 [DBG] Connection id "0HN5JHJS2M74V" completed keep alive response.
2024-08-03 14:22:04.736 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 3.8466ms
2024-08-03 14:22:04.773 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_vs/browserLink - null null
2024-08-03 14:22:04.806 +07:00 [DBG] Connection id "0HN5JHJS2M750" completed keep alive response.
2024-08-03 14:22:04.806 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.5267ms
2024-08-03 14:22:05.862 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2024-08-03 14:22:05.894 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-03 14:22:05.910 +07:00 [DBG] Request did not match any endpoints
2024-08-03 14:22:06.246 +07:00 [DBG] Connection id "0HN5JHJS2M750" completed keep alive response.
2024-08-03 14:22:06.262 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 399.6808ms
2024-08-03 14:22:29.576 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/Users/upload-avatar - multipart/form-data; boundary=----WebKitFormBoundaryxIzLf513Fradu23H 4216
2024-08-03 14:22:29.580 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/upload-avatar'
2024-08-03 14:22:29.583 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)' with route pattern 'api/Users/upload-avatar' is valid for the request path '/api/Users/upload-avatar'
2024-08-03 14:22:29.584 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 14:22:29.586 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-03 14:22:29.587 +07:00 [WRN] Failed to determine the https port for redirect.
2024-08-03 14:22:29.588 +07:00 [INF] Start request......!
2024-08-03 14:22:29.665 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-03 14:22:29.667 +07:00 [DBG] The request has an origin header: 'http://localhost:5090'.
2024-08-03 14:22:29.668 +07:00 [INF] CORS policy execution failed.
2024-08-03 14:22:29.668 +07:00 [INF] Request origin http://localhost:5090 does not have permission to access the resource.
2024-08-03 14:22:29.671 +07:00 [INF] Executing endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 14:22:29.701 +07:00 [INF] Route matched with {action = "UpdateAvatar", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAvatar(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile], System.Guid) on controller capygram.Auth.Controllers.UsersController (capygram.Auth).
2024-08-03 14:22:29.703 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-03 14:22:29.703 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-03 14:22:29.704 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-03 14:22:29.704 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-03 14:22:29.704 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-03 14:22:29.706 +07:00 [DBG] Executing controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:22:29.715 +07:00 [DBG] Executed controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:22:29.723 +07:00 [DBG] Connection id "0HN5JHJS2M750", Request id "0HN5JHJS2M750:00000003": started reading request body.
2024-08-03 14:22:29.724 +07:00 [DBG] Connection id "0HN5JHJS2M750", Request id "0HN5JHJS2M750:00000003": done reading request body.
2024-08-03 14:22:29.735 +07:00 [DBG] Attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-08-03 14:22:29.739 +07:00 [DBG] Attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name '' in request data ...
2024-08-03 14:22:29.741 +07:00 [DBG] Done attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 14:22:29.742 +07:00 [DBG] Done attempting to bind parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 14:22:29.742 +07:00 [DBG] Attempting to validate the bound parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-08-03 14:22:29.752 +07:00 [DBG] Done attempting to validate the bound parameter 'fileToUpload' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-08-03 14:22:29.753 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Guid' ...
2024-08-03 14:22:29.754 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Guid' using the name 'userId' in request data ...
2024-08-03 14:22:29.755 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Guid'.
2024-08-03 14:22:29.756 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Guid'.
2024-08-03 14:22:29.756 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Guid' ...
2024-08-03 14:22:29.756 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Guid'.
2024-08-03 14:22:29.838 +07:00 [DBG] Declare exchange: name: image-upload-notification, type: fanout, durable
2024-08-03 14:22:29.839 +07:00 [DBG] Declare exchange: name: inotification, type: fanout, durable
2024-08-03 14:22:29.842 +07:00 [DBG] Bind exchange: source: image-upload-notification, destination: inotification
2024-08-03 14:22:29.950 +07:00 [DBG] SEND "rabbitmq://localhost/capygram/image-upload-notification" "f4120000-1625-902e-cd15-08dcb38d08bb" capygram.Common.MessageBus.Events.ImageUploadNotification
2024-08-03 14:22:29.957 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-03 14:22:29.959 +07:00 [DBG] No information found on request to perform content negotiation.
2024-08-03 14:22:29.959 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-03 14:22:29.960 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-03 14:22:29.961 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-03 14:22:29.961 +07:00 [INF] Executing OkObjectResult, writing value of type 'capygram.Common.Shared.Result`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-03 14:22:29.969 +07:00 [INF] Executed action capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth) in 262.093ms
2024-08-03 14:22:29.970 +07:00 [INF] Executed endpoint 'capygram.Auth.Controllers.UsersController.UpdateAvatar (capygram.Auth)'
2024-08-03 14:22:29.973 +07:00 [DBG] Connection id "0HN5JHJS2M750" completed keep alive response.
2024-08-03 14:22:29.973 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/Users/upload-avatar - 200 null application/json; charset=utf-8 397.5124ms
2024-08-03 14:22:57.304 +07:00 [DBG] Declare exchange: name: user-changed-notification, type: fanout, durable
2024-08-03 14:22:57.305 +07:00 [DBG] Declare exchange: name: inotification, type: fanout, durable
2024-08-03 14:22:57.307 +07:00 [DBG] Bind exchange: source: user-changed-notification, destination: inotification
2024-08-03 14:22:57.346 +07:00 [DBG] SEND "rabbitmq://localhost/capygram/user-changed-notification" "f4120000-1625-902e-9ac8-08dcb38d191e" capygram.Common.MessageBus.Events.UserChangedNotification
2024-08-03 14:23:01.604 +07:00 [DBG] RECEIVE "rabbitmq://localhost/capygram/user-media-queue" "1c600000-1625-902e-4f80-08dcb38d09d6" capygram.Common.MessageBus.Events.ImageUploadedNotification capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer("00:00:29.8120735")
2024-08-03 14:31:30.568 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-03 14:31:31.084 +07:00 [DBG] Hosting starting
2024-08-03 14:31:31.125 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-03 14:31:31.327 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-08-03 14:31:32.065 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-08-03 14:31:32.071 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-08-03 14:31:32.072 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-08-03 14:31:32.073 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-08-03 14:31:32.077 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-08-03 14:31:32.081 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-08-03 14:31:32.082 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-08-03 14:31:32.082 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-08-03 14:31:32.088 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-08-03 14:31:32.091 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 14:31:32.093 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-03 14:31:32.095 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 14:31:32.099 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-03 14:31:32.101 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-03 14:31:32.103 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-08-03 14:31:32.104 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-08-03 14:31:32.106 +07:00 [DBG] Starting bus instances: IBus
2024-08-03 14:31:32.109 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-08-03 14:31:32.162 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-08-03 14:31:32.313 +07:00 [INF] Now listening on: http://[::]:5090
2024-08-03 14:31:32.313 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-08-03 14:31:32.314 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-03 14:31:32.314 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-03 14:31:32.314 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-03 14:31:32.314 +07:00 [INF] Hosting environment: Development
2024-08-03 14:31:32.315 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-08-03 14:31:32.315 +07:00 [DBG] Hosting started
2024-08-03 14:31:32.356 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 55720)
2024-08-03 14:31:32.395 +07:00 [DBG] Connection id "0HN5JHP628N0F" received FIN.
2024-08-03 14:31:32.410 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_gbpyyyysrsenh3n5bdqm8d1md4?temporary=true"
2024-08-03 14:31:32.423 +07:00 [DBG] Connection id "0HN5JHP628N0F" accepted.
2024-08-03 14:31:32.440 +07:00 [DBG] Connection id "0HN5JHP628N0F" started.
2024-08-03 14:31:32.451 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-08-03 14:31:32.453 +07:00 [DBG] Connection id "0HN5JHP628N0F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 14:31:32.457 +07:00 [DBG] Connection id "0HN5JHP628N0F" disconnecting.
2024-08-03 14:31:32.462 +07:00 [DBG] Connection id "0HN5JHP628N0F" stopped.
2024-08-03 14:31:32.467 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-08-03 14:31:32.475 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-08-03 14:31:32.480 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-08-03 14:31:32.513 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-08-03 14:31:32.609 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-zLma6K7G41Yjv5P5oFRVlA
2024-08-03 14:31:32.611 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-08-03 14:31:32.615 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-08-03 14:31:34.041 +07:00 [DBG] Connection id "0HN5JHP628N0G" accepted.
2024-08-03 14:31:34.049 +07:00 [DBG] Connection id "0HN5JHP628N0H" accepted.
2024-08-03 14:31:34.049 +07:00 [DBG] Connection id "0HN5JHP628N0H" started.
2024-08-03 14:31:34.050 +07:00 [DBG] Connection id "0HN5JHP628N0G" started.
2024-08-03 14:31:34.529 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2024-08-03 14:31:47.545 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-03 14:31:47.585 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-03 14:31:47.585 +07:00 [DBG] Request did not match any endpoints
2024-08-03 14:31:47.681 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-03 14:31:47.683 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-03 14:31:47.707 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-03 14:31:47.708 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-03 14:31:47.709 +07:00 [DBG] Connection id "0HN5JHP628N0H" completed keep alive response.
2024-08-03 14:31:47.712 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 13191.693ms
2024-08-03 14:31:47.933 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - null null
2024-08-03 14:31:47.938 +07:00 [DBG] Connection id "0HN5JHP628N0H" completed keep alive response.
2024-08-03 14:31:47.939 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 5.8992ms
2024-08-03 14:31:47.983 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_vs/browserLink - null null
2024-08-03 14:31:48.094 +07:00 [DBG] Connection id "0HN5JHP628N0H" completed keep alive response.
2024-08-03 14:31:48.094 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_vs/browserLink - 200 null text/javascript; charset=UTF-8 111.07ms
2024-08-03 14:31:48.791 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2024-08-03 14:31:48.793 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-03 14:31:48.793 +07:00 [DBG] Request did not match any endpoints
2024-08-03 14:31:49.002 +07:00 [DBG] Connection id "0HN5JHP628N0H" completed keep alive response.
2024-08-03 14:31:49.003 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 212.3145ms
2024-08-03 14:32:40.279 +07:00 [DBG] Connection id "0HN5JHP628N0G" received FIN.
2024-08-03 14:32:40.280 +07:00 [DBG] Connection id "0HN5JHP628N0G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 14:32:40.280 +07:00 [DBG] Connection id "0HN5JHP628N0G" disconnecting.
2024-08-03 14:32:40.282 +07:00 [DBG] Connection id "0HN5JHP628N0G" stopped.
2024-08-03 14:43:02.631 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-03 14:43:03.187 +07:00 [DBG] Hosting starting
2024-08-03 14:43:03.227 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-03 14:43:04.109 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-08-03 14:43:04.246 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-08-03 14:43:04.254 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-08-03 14:43:04.255 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-08-03 14:43:04.255 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-08-03 14:43:04.261 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-08-03 14:43:04.267 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-08-03 14:43:04.268 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-08-03 14:43:04.268 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-08-03 14:43:04.275 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-08-03 14:43:04.279 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 14:43:04.281 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-03 14:43:04.283 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 14:43:04.287 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-03 14:43:04.288 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-03 14:43:04.290 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-08-03 14:43:04.291 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-08-03 14:43:04.292 +07:00 [DBG] Starting bus instances: IBus
2024-08-03 14:43:04.296 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-08-03 14:43:04.353 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-08-03 14:43:04.524 +07:00 [INF] Now listening on: http://[::]:5090
2024-08-03 14:43:04.524 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-08-03 14:43:04.524 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-03 14:43:04.525 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-03 14:43:04.526 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-03 14:43:04.527 +07:00 [INF] Hosting environment: Development
2024-08-03 14:43:04.527 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-08-03 14:43:04.527 +07:00 [DBG] Hosting started
2024-08-03 14:43:04.558 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 56013)
2024-08-03 14:43:04.631 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_otboyyysrsen7rmdbdqm8d9eyr?temporary=true"
2024-08-03 14:43:04.666 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-08-03 14:43:04.673 +07:00 [DBG] Connection id "0HN5JHVKCB95H" received FIN.
2024-08-03 14:43:04.681 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-08-03 14:43:04.684 +07:00 [DBG] Connection id "0HN5JHVKCB95H" accepted.
2024-08-03 14:43:04.689 +07:00 [DBG] Connection id "0HN5JHVKCB95H" started.
2024-08-03 14:43:04.689 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-08-03 14:43:04.705 +07:00 [DBG] Connection id "0HN5JHVKCB95H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 14:43:04.713 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-08-03 14:43:04.719 +07:00 [DBG] Connection id "0HN5JHVKCB95H" disconnecting.
2024-08-03 14:43:04.732 +07:00 [DBG] Connection id "0HN5JHVKCB95H" stopped.
2024-08-03 14:43:04.760 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-08-03 14:43:04.829 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-a7KZLsCpjZ3D9ltvdLqOQw
2024-08-03 14:43:04.831 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-08-03 14:43:04.835 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-08-03 14:43:05.528 +07:00 [DBG] Connection id "0HN5JHVKCB95I" accepted.
2024-08-03 14:43:05.529 +07:00 [DBG] Connection id "0HN5JHVKCB95I" started.
2024-08-03 14:43:05.530 +07:00 [DBG] Connection id "0HN5JHVKCB95J" accepted.
2024-08-03 14:43:05.533 +07:00 [DBG] Connection id "0HN5JHVKCB95J" started.
2024-08-03 14:43:05.608 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2024-08-03 14:43:05.942 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-03 14:43:05.990 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-03 14:43:05.992 +07:00 [DBG] Request did not match any endpoints
2024-08-03 14:43:06.083 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-03 14:43:06.085 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-03 14:43:06.190 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-03 14:43:06.192 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-03 14:43:06.192 +07:00 [DBG] Connection id "0HN5JHVKCB95I" completed keep alive response.
2024-08-03 14:43:06.196 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 601.3377ms
2024-08-03 14:43:06.767 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - null null
2024-08-03 14:43:06.774 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_vs/browserLink - null null
2024-08-03 14:43:06.788 +07:00 [DBG] Connection id "0HN5JHVKCB95I" completed keep alive response.
2024-08-03 14:43:06.791 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 24.1689ms
2024-08-03 14:43:06.907 +07:00 [DBG] Connection id "0HN5JHVKCB95J" completed keep alive response.
2024-08-03 14:43:06.908 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_vs/browserLink - 200 null text/javascript; charset=UTF-8 133.8051ms
2024-08-03 14:43:08.148 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2024-08-03 14:43:08.151 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-03 14:43:08.152 +07:00 [DBG] Request did not match any endpoints
2024-08-03 14:43:08.362 +07:00 [DBG] Connection id "0HN5JHVKCB95J" completed keep alive response.
2024-08-03 14:43:08.363 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 215.1218ms
2024-08-03 14:43:21.094 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/api/Users/get-user-by-name?UserName=Hieu - null null
2024-08-03 14:43:21.098 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/get-user-by-name'
2024-08-03 14:43:21.100 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.GetUserByName (capygram.Auth)' with route pattern 'api/Users/get-user-by-name' is valid for the request path '/api/Users/get-user-by-name'
2024-08-03 14:43:21.101 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.GetUserByName (capygram.Auth)'
2024-08-03 14:43:21.103 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-03 14:43:21.104 +07:00 [WRN] Failed to determine the https port for redirect.
2024-08-03 14:43:21.105 +07:00 [INF] Start request......!
2024-08-03 14:43:21.192 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-03 14:43:21.198 +07:00 [DBG] Policy authentication schemes  did not succeed
2024-08-03 14:43:21.202 +07:00 [INF] Authorization failed. Fail() was explicitly called.
2024-08-03 14:44:43.622 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-03 14:44:44.150 +07:00 [DBG] Hosting starting
2024-08-03 14:44:44.189 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-03 14:44:45.151 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-08-03 14:44:45.261 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-08-03 14:44:45.268 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-08-03 14:44:45.269 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-08-03 14:44:45.270 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-08-03 14:44:45.276 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-08-03 14:44:45.282 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-08-03 14:44:45.283 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-08-03 14:44:45.284 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-08-03 14:44:45.293 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-08-03 14:44:45.298 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 14:44:45.301 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-03 14:44:45.304 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 14:44:45.308 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-03 14:44:45.310 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-03 14:44:45.312 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-08-03 14:44:45.313 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-08-03 14:44:45.315 +07:00 [DBG] Starting bus instances: IBus
2024-08-03 14:44:45.319 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-08-03 14:44:45.375 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-08-03 14:44:45.513 +07:00 [INF] Now listening on: http://[::]:5090
2024-08-03 14:44:45.514 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-08-03 14:44:45.514 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-03 14:44:45.514 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-03 14:44:45.514 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-03 14:44:45.515 +07:00 [INF] Hosting environment: Development
2024-08-03 14:44:45.515 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-08-03 14:44:45.515 +07:00 [DBG] Hosting started
2024-08-03 14:44:45.555 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 56123)
2024-08-03 14:44:45.600 +07:00 [DBG] Connection id "0HN5JI0IERPSM" received FIN.
2024-08-03 14:44:45.608 +07:00 [DBG] Connection id "0HN5JI0IERPSM" accepted.
2024-08-03 14:44:45.611 +07:00 [DBG] Connection id "0HN5JI0IERPSM" started.
2024-08-03 14:44:45.636 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_1baoyyysrsenh73jbdqm8rbrbs?temporary=true"
2024-08-03 14:44:45.645 +07:00 [DBG] Connection id "0HN5JI0IERPSM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 14:44:45.650 +07:00 [DBG] Connection id "0HN5JI0IERPSM" disconnecting.
2024-08-03 14:44:45.659 +07:00 [DBG] Connection id "0HN5JI0IERPSM" stopped.
2024-08-03 14:44:45.663 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-08-03 14:44:45.691 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-08-03 14:44:45.697 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-08-03 14:44:45.703 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-08-03 14:44:45.738 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-08-03 14:44:45.787 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-DGmuXLnHDoMB6e88zu_dMg
2024-08-03 14:44:45.788 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-08-03 14:44:45.792 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-08-03 14:44:46.394 +07:00 [DBG] Connection id "0HN5JI0IERPSN" accepted.
2024-08-03 14:44:46.395 +07:00 [DBG] Connection id "0HN5JI0IERPSN" started.
2024-08-03 14:44:46.396 +07:00 [DBG] Connection id "0HN5JI0IERPSO" accepted.
2024-08-03 14:44:46.396 +07:00 [DBG] Connection id "0HN5JI0IERPSO" started.
2024-08-03 14:44:46.655 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2024-08-03 14:44:46.805 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-03 14:44:46.897 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-03 14:44:46.945 +07:00 [DBG] Request did not match any endpoints
2024-08-03 14:44:47.171 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-03 14:44:47.188 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-03 14:44:47.236 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-03 14:44:47.238 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-03 14:44:47.239 +07:00 [DBG] Connection id "0HN5JI0IERPSN" completed keep alive response.
2024-08-03 14:44:47.244 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 594.1136ms
2024-08-03 14:44:48.080 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - null null
2024-08-03 14:44:48.089 +07:00 [DBG] Connection id "0HN5JI0IERPSN" completed keep alive response.
2024-08-03 14:44:48.090 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 10.0865ms
2024-08-03 14:44:48.122 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_vs/browserLink - null null
2024-08-03 14:44:48.239 +07:00 [DBG] Connection id "0HN5JI0IERPSO" completed keep alive response.
2024-08-03 14:44:48.240 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_vs/browserLink - 200 null text/javascript; charset=UTF-8 118.2305ms
2024-08-03 14:44:48.737 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2024-08-03 14:44:48.738 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-03 14:44:48.739 +07:00 [DBG] Request did not match any endpoints
2024-08-03 14:44:48.874 +07:00 [DBG] Connection id "0HN5JI0IERPSO" completed keep alive response.
2024-08-03 14:44:48.874 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 137.2016ms
2024-08-03 14:45:32.964 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/Users/login - application/json 48
2024-08-03 14:45:32.967 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/login'
2024-08-03 14:45:32.970 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.Login (capygram.Auth)' with route pattern 'api/Users/login' is valid for the request path '/api/Users/login'
2024-08-03 14:45:32.971 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.Login (capygram.Auth)'
2024-08-03 14:45:32.973 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-03 14:45:32.974 +07:00 [WRN] Failed to determine the https port for redirect.
2024-08-03 14:45:32.975 +07:00 [INF] Start request......!
2024-08-03 14:45:33.055 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-03 14:45:33.057 +07:00 [DBG] The request has an origin header: 'http://localhost:5090'.
2024-08-03 14:45:33.058 +07:00 [INF] CORS policy execution failed.
2024-08-03 14:45:33.058 +07:00 [INF] Request origin http://localhost:5090 does not have permission to access the resource.
2024-08-03 14:45:33.062 +07:00 [INF] Executing endpoint 'capygram.Auth.Controllers.UsersController.Login (capygram.Auth)'
2024-08-03 14:45:33.089 +07:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(capygram.Common.DTOs.User.UserAuthenticationDto) on controller capygram.Auth.Controllers.UsersController (capygram.Auth).
2024-08-03 14:45:33.091 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-03 14:45:33.091 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-03 14:45:33.092 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-03 14:45:33.092 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-03 14:45:33.093 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-03 14:45:33.094 +07:00 [DBG] Executing controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:45:33.103 +07:00 [DBG] Executed controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:45:33.108 +07:00 [DBG] Attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserAuthenticationDto' ...
2024-08-03 14:45:33.111 +07:00 [DBG] Attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserAuthenticationDto' using the name '' in request data ...
2024-08-03 14:45:33.112 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-08-03 14:45:33.117 +07:00 [DBG] Connection id "0HN5JI0IERPSO", Request id "0HN5JI0IERPSO:00000003": started reading request body.
2024-08-03 14:45:33.117 +07:00 [DBG] Connection id "0HN5JI0IERPSO", Request id "0HN5JI0IERPSO:00000003": done reading request body.
2024-08-03 14:45:33.122 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'capygram.Common.DTOs.User.UserAuthenticationDto'
2024-08-03 14:45:33.123 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserAuthenticationDto'.
2024-08-03 14:45:33.123 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'capygram.Common.DTOs.User.UserAuthenticationDto'.
2024-08-03 14:45:33.124 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'capygram.Common.DTOs.User.UserAuthenticationDto' ...
2024-08-03 14:45:33.132 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'capygram.Common.DTOs.User.UserAuthenticationDto'.
2024-08-03 14:45:33.349 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-03 14:45:33.350 +07:00 [DBG] No information found on request to perform content negotiation.
2024-08-03 14:45:33.350 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-03 14:45:33.350 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-03 14:45:33.351 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-03 14:45:33.352 +07:00 [INF] Executing OkObjectResult, writing value of type 'capygram.Common.Shared.Result`1[[capygram.Common.DTOs.User.UserAuthenticationResponse, capygram.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-03 14:45:33.363 +07:00 [INF] Executed action capygram.Auth.Controllers.UsersController.Login (capygram.Auth) in 267.6309ms
2024-08-03 14:45:33.363 +07:00 [INF] Executed endpoint 'capygram.Auth.Controllers.UsersController.Login (capygram.Auth)'
2024-08-03 14:45:33.365 +07:00 [DBG] Connection id "0HN5JI0IERPSO" completed keep alive response.
2024-08-03 14:45:33.365 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/Users/login - 200 null application/json; charset=utf-8 401.974ms
2024-08-03 14:46:15.696 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/api/Users/get-user-by-name?UserName=Hieu - null null
2024-08-03 14:46:15.698 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/get-user-by-name'
2024-08-03 14:46:15.698 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.GetUserByName (capygram.Auth)' with route pattern 'api/Users/get-user-by-name' is valid for the request path '/api/Users/get-user-by-name'
2024-08-03 14:46:15.699 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.GetUserByName (capygram.Auth)'
2024-08-03 14:46:15.699 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-03 14:46:15.700 +07:00 [INF] Start request......!
2024-08-03 14:46:15.719 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-03 14:46:15.722 +07:00 [DBG] Policy authentication schemes  did not succeed
2024-08-03 14:46:15.726 +07:00 [INF] Authorization failed. Fail() was explicitly called.
2024-08-03 14:46:57.659 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-03 14:46:58.271 +07:00 [DBG] Hosting starting
2024-08-03 14:46:58.316 +07:00 [INF] User profile is available. Using 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-03 14:46:58.556 +07:00 [INF] Configured endpoint user-media-queue, Consumer: capygram.Auth.MessageBus.Event.UserMediaNotificationConsumer
2024-08-03 14:46:58.703 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-86acdddc-5ebb-46d0-8da9-a5d2c38b8b42.xml'.
2024-08-03 14:46:58.710 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-97575500-6a39-4aec-a5f7-bc1ac2a50231.xml'.
2024-08-03 14:46:58.711 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-c1d10d47-675a-4953-a6d0-6a670993d84e.xml'.
2024-08-03 14:46:58.712 +07:00 [DBG] Reading data from file 'C:\Users\ToilaHieu\AppData\Local\ASP.NET\DataProtection-Keys\key-cd53a739-4711-4aeb-9f47-0d2c26453423.xml'.
2024-08-03 14:46:58.718 +07:00 [DBG] Found key {86acdddc-5ebb-46d0-8da9-a5d2c38b8b42}.
2024-08-03 14:46:58.723 +07:00 [DBG] Found key {97575500-6a39-4aec-a5f7-bc1ac2a50231}.
2024-08-03 14:46:58.723 +07:00 [DBG] Found key {c1d10d47-675a-4953-a6d0-6a670993d84e}.
2024-08-03 14:46:58.724 +07:00 [DBG] Found key {cd53a739-4711-4aeb-9f47-0d2c26453423}.
2024-08-03 14:46:58.731 +07:00 [DBG] Considering key {97575500-6a39-4aec-a5f7-bc1ac2a50231} with expiration date 2024-09-23 17:58:26Z as default key.
2024-08-03 14:46:58.735 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 14:46:58.737 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-03 14:46:58.740 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-03 14:46:58.743 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-03 14:46:58.745 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-03 14:46:58.747 +07:00 [DBG] Using key {97575500-6a39-4aec-a5f7-bc1ac2a50231} as the default key.
2024-08-03 14:46:58.748 +07:00 [DBG] Key ring with default key {97575500-6a39-4aec-a5f7-bc1ac2a50231} was loaded during application startup.
2024-08-03 14:46:58.750 +07:00 [DBG] Starting bus instances: IBus
2024-08-03 14:46:58.757 +07:00 [DBG] Starting bus: "rabbitmq://localhost/capygram"
2024-08-03 14:46:58.841 +07:00 [DBG] Connect: guest@localhost:5672/capygram
2024-08-03 14:46:59.030 +07:00 [INF] Now listening on: http://[::]:5090
2024-08-03 14:46:59.037 +07:00 [DBG] Loaded hosting startup assembly capygram.Auth
2024-08-03 14:46:59.039 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-03 14:46:59.040 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-03 14:46:59.040 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-03 14:46:59.041 +07:00 [INF] Hosting environment: Development
2024-08-03 14:46:59.041 +07:00 [INF] Content root path: C:\coode\Hit_Product\capygram-be\src\Services\capygram.Auth
2024-08-03 14:46:59.041 +07:00 [DBG] Hosting started
2024-08-03 14:46:59.064 +07:00 [DBG] Connected: guest@localhost:5672/capygram (address: amqp://localhost:5672, local: 56325)
2024-08-03 14:46:59.125 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/DESKTOPO1721LD_capygramAuth_bus_itoyyyysrsenhi4ybdqm8rdwbr?temporary=true"
2024-08-03 14:46:59.164 +07:00 [DBG] Declare queue: name: user-media-queue, durable, consumer-count: 0 message-count: 0
2024-08-03 14:46:59.196 +07:00 [DBG] Declare exchange: name: user-media-queue, type: fanout, durable
2024-08-03 14:46:59.203 +07:00 [DBG] Declare exchange: name: send-notification-media-exchange, type: topic, durable
2024-08-03 14:46:59.212 +07:00 [DBG] Bind queue: source: user-media-queue, destination: user-media-queue
2024-08-03 14:46:59.242 +07:00 [DBG] Bind exchange: source: send-notification-media-exchange, destination: user-media-queue, routing-key: user
2024-08-03 14:46:59.318 +07:00 [DBG] Consumer Ok: "rabbitmq://localhost/capygram/user-media-queue" - amq.ctag-QtOYyba_RrWgbpEfmjoIXw
2024-08-03 14:46:59.320 +07:00 [DBG] Endpoint Ready: "rabbitmq://localhost/capygram/user-media-queue"
2024-08-03 14:46:59.325 +07:00 [INF] Bus started: "rabbitmq://localhost/capygram"
2024-08-03 14:47:00.881 +07:00 [DBG] Connection id "0HN5JI1QP06M3" received FIN.
2024-08-03 14:47:00.888 +07:00 [DBG] Connection id "0HN5JI1QP06M3" accepted.
2024-08-03 14:47:00.890 +07:00 [DBG] Connection id "0HN5JI1QP06M3" started.
2024-08-03 14:47:00.903 +07:00 [DBG] Connection id "0HN5JI1QP06M3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 14:47:00.906 +07:00 [DBG] Connection id "0HN5JI1QP06M3" disconnecting.
2024-08-03 14:47:00.910 +07:00 [DBG] Connection id "0HN5JI1QP06M3" stopped.
2024-08-03 14:47:02.841 +07:00 [DBG] Connection id "0HN5JI1QP06M4" accepted.
2024-08-03 14:47:02.842 +07:00 [DBG] Connection id "0HN5JI1QP06M4" started.
2024-08-03 14:47:02.843 +07:00 [DBG] Connection id "0HN5JI1QP06M5" accepted.
2024-08-03 14:47:02.843 +07:00 [DBG] Connection id "0HN5JI1QP06M5" started.
2024-08-03 14:47:03.343 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/index.html - null null
2024-08-03 14:47:03.465 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-03 14:47:03.529 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-03 14:47:03.531 +07:00 [DBG] Request did not match any endpoints
2024-08-03 14:47:03.682 +07:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-03 14:47:03.686 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-03 14:47:03.751 +07:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-03 14:47:03.753 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-03 14:47:03.755 +07:00 [DBG] Connection id "0HN5JI1QP06M4" completed keep alive response.
2024-08-03 14:47:03.758 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/index.html - 200 null text/html;charset=utf-8 421.8701ms
2024-08-03 14:47:04.410 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - null null
2024-08-03 14:47:04.414 +07:00 [DBG] Connection id "0HN5JI1QP06M4" completed keep alive response.
2024-08-03 14:47:04.415 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 5.7715ms
2024-08-03 14:47:04.438 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/_vs/browserLink - null null
2024-08-03 14:47:04.504 +07:00 [DBG] Connection id "0HN5JI1QP06M5" completed keep alive response.
2024-08-03 14:47:04.505 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/_vs/browserLink - 200 null text/javascript; charset=UTF-8 67.1269ms
2024-08-03 14:47:05.492 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - null null
2024-08-03 14:47:05.493 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-03 14:47:05.494 +07:00 [DBG] Request did not match any endpoints
2024-08-03 14:47:05.721 +07:00 [DBG] Connection id "0HN5JI1QP06M5" completed keep alive response.
2024-08-03 14:47:05.724 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 232.6577ms
2024-08-03 14:48:18.194 +07:00 [DBG] Connection id "0HN5JI1QP06M6" accepted.
2024-08-03 14:48:18.195 +07:00 [DBG] Connection id "0HN5JI1QP06M6" started.
2024-08-03 14:48:18.196 +07:00 [DBG] Connection id "0HN5JI1QP06M7" accepted.
2024-08-03 14:48:18.196 +07:00 [DBG] Connection id "0HN5JI1QP06M6" received FIN.
2024-08-03 14:48:18.196 +07:00 [DBG] Connection id "0HN5JI1QP06M7" started.
2024-08-03 14:48:18.200 +07:00 [DBG] Connection id "0HN5JI1QP06M6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 14:48:18.201 +07:00 [DBG] Connection id "0HN5JI1QP06M6" disconnecting.
2024-08-03 14:48:18.202 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/api/Users/get-user-by-name?UserName=Hieu - null null
2024-08-03 14:48:18.203 +07:00 [DBG] Connection id "0HN5JI1QP06M6" stopped.
2024-08-03 14:48:18.206 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/get-user-by-name'
2024-08-03 14:48:18.209 +07:00 [DBG] Endpoint 'capygram.Auth.Controllers.UsersController.GetUserByName (capygram.Auth)' with route pattern 'api/Users/get-user-by-name' is valid for the request path '/api/Users/get-user-by-name'
2024-08-03 14:48:18.210 +07:00 [DBG] Request matched endpoint 'capygram.Auth.Controllers.UsersController.GetUserByName (capygram.Auth)'
2024-08-03 14:48:18.212 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-03 14:48:18.213 +07:00 [WRN] Failed to determine the https port for redirect.
2024-08-03 14:48:18.215 +07:00 [INF] Start request......!
2024-08-03 14:48:18.352 +07:00 [DBG] Successfully validated the token.
2024-08-03 14:48:18.354 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-03 14:48:25.083 +07:00 [DBG] Authorization was successful.
2024-08-03 14:48:25.085 +07:00 [INF] Executing endpoint 'capygram.Auth.Controllers.UsersController.GetUserByName (capygram.Auth)'
2024-08-03 14:48:25.113 +07:00 [INF] Route matched with {action = "GetUserByName", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserByName(System.String) on controller capygram.Auth.Controllers.UsersController (capygram.Auth).
2024-08-03 14:48:25.115 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-03 14:48:25.115 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-03 14:48:25.116 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-03 14:48:25.116 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-03 14:48:25.116 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-03 14:48:25.118 +07:00 [DBG] Executing controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:48:25.126 +07:00 [DBG] Executed controller factory for controller capygram.Auth.Controllers.UsersController (capygram.Auth)
2024-08-03 14:48:25.131 +07:00 [DBG] Attempting to bind parameter 'UserName' of type 'System.String' ...
2024-08-03 14:48:25.133 +07:00 [DBG] Attempting to bind parameter 'UserName' of type 'System.String' using the name 'UserName' in request data ...
2024-08-03 14:48:25.134 +07:00 [DBG] Done attempting to bind parameter 'UserName' of type 'System.String'.
2024-08-03 14:48:25.134 +07:00 [DBG] Done attempting to bind parameter 'UserName' of type 'System.String'.
2024-08-03 14:48:25.135 +07:00 [DBG] Attempting to validate the bound parameter 'UserName' of type 'System.String' ...
2024-08-03 14:48:25.140 +07:00 [DBG] Done attempting to validate the bound parameter 'UserName' of type 'System.String'.
2024-08-03 14:48:25.223 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-03 14:48:25.225 +07:00 [DBG] No information found on request to perform content negotiation.
2024-08-03 14:48:25.226 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-03 14:48:25.226 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-03 14:48:25.227 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-03 14:48:25.227 +07:00 [INF] Executing OkObjectResult, writing value of type 'capygram.Common.Shared.Result`1[[capygram.Auth.Domain.Model.User, capygram.Auth, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-03 14:48:25.244 +07:00 [INF] Executed action capygram.Auth.Controllers.UsersController.GetUserByName (capygram.Auth) in 124.7655ms
2024-08-03 14:48:25.245 +07:00 [INF] Executed endpoint 'capygram.Auth.Controllers.UsersController.GetUserByName (capygram.Auth)'
2024-08-03 14:48:25.245 +07:00 [DBG] Connection id "0HN5JI1QP06M7" completed keep alive response.
2024-08-03 14:48:25.245 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/api/Users/get-user-by-name?UserName=Hieu - 200 null application/json; charset=utf-8 7043.0754ms
2024-08-03 14:48:34.507 +07:00 [DBG] Connection id "0HN5JI1QP06M7" received FIN.
2024-08-03 14:48:34.508 +07:00 [DBG] Connection id "0HN5JI1QP06M7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-03 14:48:34.508 +07:00 [DBG] Connection id "0HN5JI1QP06M7" disconnecting.
2024-08-03 14:48:34.519 +07:00 [DBG] Connection id "0HN5JI1QP06M7" stopped.
